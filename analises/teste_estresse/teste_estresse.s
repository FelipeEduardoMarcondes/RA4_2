.section .bss
    .lcomm A, 2
    .lcomm AREA, 2
    .lcomm B, 2
    .lcomm C, 2
    .lcomm CONTADOR, 2
    .lcomm D, 2
    .lcomm E, 2
    .lcomm F, 2
    .lcomm FAT, 2
    .lcomm I, 2
    .lcomm LIMITE, 2
    .lcomm N, 2
    .lcomm PI, 2
    .lcomm SOMA, 2
    .lcomm VOLUME, 2
    .lcomm X, 2
    .lcomm Y, 2
    .lcomm Z, 2
    .lcomm t10, 2
    .lcomm t100, 2
    .lcomm t101, 2
    .lcomm t102, 2
    .lcomm t103, 2
    .lcomm t107, 2
    .lcomm t108, 2
    .lcomm t11, 2
    .lcomm t110, 2
    .lcomm t111, 2
    .lcomm t113, 2
    .lcomm t114, 2
    .lcomm t115, 2
    .lcomm t117, 2
    .lcomm t118, 2
    .lcomm t12, 2
    .lcomm t120, 2
    .lcomm t121, 2
    .lcomm t123, 2
    .lcomm t124, 2
    .lcomm t125, 2
    .lcomm t13, 2
    .lcomm t133, 2
    .lcomm t134, 2
    .lcomm t135, 2
    .lcomm t136, 2
    .lcomm t138, 2
    .lcomm t139, 2
    .lcomm t14, 2
    .lcomm t140, 2
    .lcomm t142, 2
    .lcomm t143, 2
    .lcomm t144, 2
    .lcomm t145, 2
    .lcomm t146, 2
    .lcomm t147, 2
    .lcomm t148, 2
    .lcomm t149, 2
    .lcomm t15, 2
    .lcomm t150, 2
    .lcomm t151, 2
    .lcomm t152, 2
    .lcomm t153, 2
    .lcomm t16, 2
    .lcomm t164, 2
    .lcomm t168, 2
    .lcomm t17, 2
    .lcomm t172, 2
    .lcomm t176, 2
    .lcomm t18, 2
    .lcomm t180, 2
    .lcomm t182, 2
    .lcomm t183, 2
    .lcomm t184, 2
    .lcomm t186, 2
    .lcomm t187, 2
    .lcomm t188, 2
    .lcomm t189, 2
    .lcomm t19, 2
    .lcomm t190, 2
    .lcomm t192, 2
    .lcomm t193, 2
    .lcomm t194, 2
    .lcomm t195, 2
    .lcomm t196, 2
    .lcomm t198, 2
    .lcomm t199, 2
    .lcomm t20, 2
    .lcomm t200, 2
    .lcomm t201, 2
    .lcomm t202, 2
    .lcomm t203, 2
    .lcomm t204, 2
    .lcomm t205, 2
    .lcomm t207, 2
    .lcomm t208, 2
    .lcomm t209, 2
    .lcomm t210, 2
    .lcomm t211, 2
    .lcomm t212, 2
    .lcomm t213, 2
    .lcomm t214, 2
    .lcomm t216, 2
    .lcomm t217, 2
    .lcomm t218, 2
    .lcomm t219, 2
    .lcomm t22, 2
    .lcomm t220, 2
    .lcomm t221, 2
    .lcomm t222, 2
    .lcomm t223, 2
    .lcomm t224, 2
    .lcomm t225, 2
    .lcomm t226, 2
    .lcomm t227, 2
    .lcomm t228, 2
    .lcomm t229, 2
    .lcomm t23, 2
    .lcomm t230, 2
    .lcomm t231, 2
    .lcomm t232, 2
    .lcomm t233, 2
    .lcomm t235, 2
    .lcomm t236, 2
    .lcomm t238, 2
    .lcomm t239, 2
    .lcomm t241, 2
    .lcomm t242, 2
    .lcomm t244, 2
    .lcomm t245, 2
    .lcomm t246, 2
    .lcomm t249, 2
    .lcomm t25, 2
    .lcomm t250, 2
    .lcomm t252, 2
    .lcomm t253, 2
    .lcomm t255, 2
    .lcomm t256, 2
    .lcomm t257, 2
    .lcomm t258, 2
    .lcomm t259, 2
    .lcomm t26, 2
    .lcomm t261, 2
    .lcomm t263, 2
    .lcomm t264, 2
    .lcomm t265, 2
    .lcomm t266, 2
    .lcomm t267, 2
    .lcomm t268, 2
    .lcomm t269, 2
    .lcomm t27, 2
    .lcomm t270, 2
    .lcomm t271, 2
    .lcomm t272, 2
    .lcomm t273, 2
    .lcomm t274, 2
    .lcomm t275, 2
    .lcomm t276, 2
    .lcomm t278, 2
    .lcomm t279, 2
    .lcomm t28, 2
    .lcomm t280, 2
    .lcomm t281, 2
    .lcomm t282, 2
    .lcomm t283, 2
    .lcomm t285, 2
    .lcomm t286, 2
    .lcomm t287, 2
    .lcomm t288, 2
    .lcomm t291, 2
    .lcomm t292, 2
    .lcomm t294, 2
    .lcomm t295, 2
    .lcomm t296, 2
    .lcomm t297, 2
    .lcomm t298, 2
    .lcomm t30, 2
    .lcomm t300, 2
    .lcomm t302, 2
    .lcomm t303, 2
    .lcomm t307, 2
    .lcomm t308, 2
    .lcomm t309, 2
    .lcomm t310, 2
    .lcomm t311, 2
    .lcomm t312, 2
    .lcomm t313, 2
    .lcomm t314, 2
    .lcomm t315, 2
    .lcomm t316, 2
    .lcomm t318, 2
    .lcomm t319, 2
    .lcomm t32, 2
    .lcomm t321, 2
    .lcomm t322, 2
    .lcomm t324, 2
    .lcomm t325, 2
    .lcomm t329, 2
    .lcomm t33, 2
    .lcomm t331, 2
    .lcomm t332, 2
    .lcomm t336, 2
    .lcomm t338, 2
    .lcomm t339, 2
    .lcomm t34, 2
    .lcomm t343, 2
    .lcomm t345, 2
    .lcomm t346, 2
    .lcomm t35, 2
    .lcomm t350, 2
    .lcomm t352, 2
    .lcomm t353, 2
    .lcomm t357, 2
    .lcomm t359, 2
    .lcomm t36, 2
    .lcomm t360, 2
    .lcomm t364, 2
    .lcomm t366, 2
    .lcomm t367, 2
    .lcomm t37, 2
    .lcomm t371, 2
    .lcomm t373, 2
    .lcomm t374, 2
    .lcomm t378, 2
    .lcomm t38, 2
    .lcomm t380, 2
    .lcomm t381, 2
    .lcomm t385, 2
    .lcomm t387, 2
    .lcomm t388, 2
    .lcomm t39, 2
    .lcomm t392, 2
    .lcomm t394, 2
    .lcomm t395, 2
    .lcomm t399, 2
    .lcomm t40, 2
    .lcomm t401, 2
    .lcomm t402, 2
    .lcomm t406, 2
    .lcomm t408, 2
    .lcomm t409, 2
    .lcomm t41, 2
    .lcomm t413, 2
    .lcomm t415, 2
    .lcomm t416, 2
    .lcomm t42, 2
    .lcomm t420, 2
    .lcomm t422, 2
    .lcomm t423, 2
    .lcomm t427, 2
    .lcomm t429, 2
    .lcomm t43, 2
    .lcomm t430, 2
    .lcomm t434, 2
    .lcomm t436, 2
    .lcomm t437, 2
    .lcomm t44, 2
    .lcomm t441, 2
    .lcomm t443, 2
    .lcomm t444, 2
    .lcomm t448, 2
    .lcomm t45, 2
    .lcomm t450, 2
    .lcomm t451, 2
    .lcomm t455, 2
    .lcomm t457, 2
    .lcomm t458, 2
    .lcomm t46, 2
    .lcomm t462, 2
    .lcomm t464, 2
    .lcomm t465, 2
    .lcomm t469, 2
    .lcomm t47, 2
    .lcomm t471, 2
    .lcomm t472, 2
    .lcomm t478, 2
    .lcomm t48, 2
    .lcomm t480, 2
    .lcomm t481, 2
    .lcomm t487, 2
    .lcomm t489, 2
    .lcomm t49, 2
    .lcomm t490, 2
    .lcomm t496, 2
    .lcomm t498, 2
    .lcomm t499, 2
    .lcomm t50, 2
    .lcomm t505, 2
    .lcomm t507, 2
    .lcomm t508, 2
    .lcomm t514, 2
    .lcomm t516, 2
    .lcomm t517, 2
    .lcomm t52, 2
    .lcomm t523, 2
    .lcomm t525, 2
    .lcomm t526, 2
    .lcomm t53, 2
    .lcomm t532, 2
    .lcomm t534, 2
    .lcomm t535, 2
    .lcomm t539, 2
    .lcomm t54, 2
    .lcomm t541, 2
    .lcomm t542, 2
    .lcomm t546, 2
    .lcomm t548, 2
    .lcomm t549, 2
    .lcomm t55, 2
    .lcomm t553, 2
    .lcomm t555, 2
    .lcomm t556, 2
    .lcomm t56, 2
    .lcomm t560, 2
    .lcomm t562, 2
    .lcomm t563, 2
    .lcomm t567, 2
    .lcomm t569, 2
    .lcomm t57, 2
    .lcomm t570, 2
    .lcomm t574, 2
    .lcomm t576, 2
    .lcomm t577, 2
    .lcomm t581, 2
    .lcomm t583, 2
    .lcomm t584, 2
    .lcomm t588, 2
    .lcomm t590, 2
    .lcomm t591, 2
    .lcomm t595, 2
    .lcomm t597, 2
    .lcomm t598, 2
    .lcomm t6, 2
    .lcomm t60, 2
    .lcomm t602, 2
    .lcomm t604, 2
    .lcomm t605, 2
    .lcomm t609, 2
    .lcomm t61, 2
    .lcomm t611, 2
    .lcomm t612, 2
    .lcomm t616, 2
    .lcomm t618, 2
    .lcomm t619, 2
    .lcomm t62, 2
    .lcomm t623, 2
    .lcomm t625, 2
    .lcomm t626, 2
    .lcomm t63, 2
    .lcomm t630, 2
    .lcomm t632, 2
    .lcomm t633, 2
    .lcomm t637, 2
    .lcomm t639, 2
    .lcomm t64, 2
    .lcomm t640, 2
    .lcomm t644, 2
    .lcomm t646, 2
    .lcomm t647, 2
    .lcomm t65, 2
    .lcomm t651, 2
    .lcomm t653, 2
    .lcomm t654, 2
    .lcomm t66, 2
    .lcomm t662, 2
    .lcomm t664, 2
    .lcomm t665, 2
    .lcomm t673, 2
    .lcomm t675, 2
    .lcomm t676, 2
    .lcomm t68, 2
    .lcomm t680, 2
    .lcomm t682, 2
    .lcomm t683, 2
    .lcomm t687, 2
    .lcomm t689, 2
    .lcomm t69, 2
    .lcomm t690, 2
    .lcomm t694, 2
    .lcomm t696, 2
    .lcomm t697, 2
    .lcomm t7, 2
    .lcomm t71, 2
    .lcomm t72, 2
    .lcomm t73, 2
    .lcomm t74, 2
    .lcomm t75, 2
    .lcomm t76, 2
    .lcomm t77, 2
    .lcomm t78, 2
    .lcomm t8, 2
    .lcomm t80, 2
    .lcomm t81, 2
    .lcomm t82, 2
    .lcomm t83, 2
    .lcomm t84, 2
    .lcomm t85, 2
    .lcomm t87, 2
    .lcomm t88, 2
    .lcomm t89, 2
    .lcomm t9, 2
    .lcomm t90, 2
    .lcomm t92, 2
    .lcomm t93, 2
    .lcomm t94, 2
    .lcomm t97, 2
.section .text
.global main
main:
    ; --- Setup Inicial ---
    clr r1
    ldi r16, 0x08
    out 0x3E, r16
    ldi r16, 0xFF
    out 0x3D, r16
    call uart_init  ; Inicia Serial
    call res_init   ; Inicia Buffer RES
    ; --- Inicio do Programa ---

    ; # Linha 1
    ; TAC: MEM[X] = 100
    ldi r24, 0
    ldi r25, 100
    sts X, r24
    sts X + 1, r25
    ; TAC: HIST[100]
    ldi r24, 0
    ldi r25, 100
    call res_save

    ; # Linha 2
    ; TAC: MEM[Y] = 50
    ldi r24, 0
    ldi r25, 50
    sts Y, r24
    sts Y + 1, r25
    ; TAC: HIST[50]
    ldi r24, 0
    ldi r25, 50
    call res_save

    ; # Linha 3
    ; TAC: MEM[Z] = 25
    ldi r24, 0
    ldi r25, 25
    sts Z, r24
    sts Z + 1, r25
    ; TAC: HIST[25]
    ldi r24, 0
    ldi r25, 25
    call res_save

    ; # Linha 4
    ; TAC: MEM[PI] = 3.14159
    ldi r24, 36
    ldi r25, 3
    sts PI, r24
    sts PI + 1, r25
    ; TAC: HIST[3.14159]
    ldi r24, 36
    ldi r25, 3
    call res_save

    ; # Linha 5
    ; TAC: MEM[E] = 2.71828
    ldi r24, 183
    ldi r25, 2
    sts E, r24
    sts E + 1, r25
    ; TAC: HIST[2.71828]
    ldi r24, 183
    ldi r25, 2
    call res_save

    ; # Linha 6
    ; TAC: t6 = RES[4]
    ldi r22, 4
    ldi r23, 0
    call res_fetch
    sts t6, r24
    sts t6 + 1, r25
    ; TAC: HIST[t6]
    lds r24, t6
    lds r25, t6 + 1
    call res_save
    ; TAC: t7 = PRINT[t6]
    lds r24, t6
    lds r25, t6 + 1
    call fx_print
    call uart_newline
    sts t7, r24
    sts t7 + 1, r25

    ; # Linha 7
    ; TAC: t8 = MEM[X]
    lds r24, X
    lds r25, X + 1
    sts t8, r24
    sts t8 + 1, r25
    ; TAC: t9 = MEM[Y]
    lds r24, Y
    lds r25, Y + 1
    sts t9, r24
    sts t9 + 1, r25
    ; TAC: t10 = t8 + t9
    lds r24, t8
    lds r25, t8 + 1
    lds r22, t9
    lds r23, t9 + 1
    add r24, r22
    adc r25, r23
    sts t10, r24
    sts t10 + 1, r25
    ; TAC: t11 = MEM[Z]
    lds r24, Z
    lds r25, Z + 1
    sts t11, r24
    sts t11 + 1, r25
    ; TAC: t12 = t10 - t11
    lds r24, t10
    lds r25, t10 + 1
    lds r22, t11
    lds r23, t11 + 1
    sub r24, r22
    sbc r25, r23
    sts t12, r24
    sts t12 + 1, r25
    ; TAC: HIST[t12]
    lds r24, t12
    lds r25, t12 + 1
    call res_save
    ; TAC: t13 = PRINT[t12]
    lds r24, t12
    lds r25, t12 + 1
    call fx_print
    call uart_newline
    sts t13, r24
    sts t13 + 1, r25

    ; # Linha 8
    ; TAC: t14 = MEM[X]
    lds r24, X
    lds r25, X + 1
    sts t14, r24
    sts t14 + 1, r25
    ; TAC: t15 = MEM[Y]
    lds r24, Y
    lds r25, Y + 1
    sts t15, r24
    sts t15 + 1, r25
    ; TAC: t16 = t14 * t15
    lds r24, t14
    lds r25, t14 + 1
    lds r22, t15
    lds r23, t15 + 1
    call fx_mul
    sts t16, r24
    sts t16 + 1, r25
    ; TAC: t17 = MEM[Z]
    lds r24, Z
    lds r25, Z + 1
    sts t17, r24
    sts t17 + 1, r25
    ; TAC: t18 = t16 / t17
    lds r24, t16
    lds r25, t16 + 1
    lds r22, t17
    lds r23, t17 + 1
    call div16s
    sts t18, r24
    sts t18 + 1, r25
    ; TAC: HIST[t18]
    lds r24, t18
    lds r25, t18 + 1
    call res_save
    ; TAC: t19 = PRINT[t18]
    lds r24, t18
    lds r25, t18 + 1
    call fx_print
    call uart_newline
    sts t19, r24
    sts t19 + 1, r25

    ; # Linha 9
    ; TAC: t20 = MEM[X]
    lds r24, X
    lds r25, X + 1
    sts t20, r24
    sts t20 + 1, r25
    ; TAC: t22 = t20 ^ 2
    lds r24, t20
    lds r25, t20 + 1
    ldi r22, 2
    ldi r23, 0
    call fx_pow
    sts t22, r24
    sts t22 + 1, r25
    ; TAC: t23 = MEM[Y]
    lds r24, Y
    lds r25, Y + 1
    sts t23, r24
    sts t23 + 1, r25
    ; TAC: t25 = t23 ^ 2
    lds r24, t23
    lds r25, t23 + 1
    ldi r22, 2
    ldi r23, 0
    call fx_pow
    sts t25, r24
    sts t25 + 1, r25
    ; TAC: t26 = t22 + t25
    lds r24, t22
    lds r25, t22 + 1
    lds r22, t25
    lds r23, t25 + 1
    add r24, r22
    adc r25, r23
    sts t26, r24
    sts t26 + 1, r25
    ; TAC: HIST[t26]
    lds r24, t26
    lds r25, t26 + 1
    call res_save
    ; TAC: t27 = PRINT[t26]
    lds r24, t26
    lds r25, t26 + 1
    call fx_print
    call uart_newline
    sts t27, r24
    sts t27 + 1, r25

    ; # Linha 10
    ; TAC: t28 = MEM[PI]
    lds r24, PI
    lds r25, PI + 1
    sts t28, r24
    sts t28 + 1, r25
    ; TAC: t30 = t28 * 2
    lds r24, t28
    lds r25, t28 + 1
    ldi r22, 0
    ldi r23, 2
    call fx_mul
    sts t30, r24
    sts t30 + 1, r25
    ; TAC: t32 = t30 ^ 10
    lds r24, t30
    lds r25, t30 + 1
    ldi r22, 10
    ldi r23, 0
    call fx_pow
    sts t32, r24
    sts t32 + 1, r25
    ; TAC: HIST[t32]
    lds r24, t32
    lds r25, t32 + 1
    call res_save
    ; TAC: t33 = PRINT[t32]
    lds r24, t32
    lds r25, t32 + 1
    call fx_print
    call uart_newline
    sts t33, r24
    sts t33 + 1, r25

    ; # Linha 11
    ; TAC: t34 = MEM[E]
    lds r24, E
    lds r25, E + 1
    sts t34, r24
    sts t34 + 1, r25
    ; TAC: t35 = MEM[X]
    lds r24, X
    lds r25, X + 1
    sts t35, r24
    sts t35 + 1, r25
    ; TAC: t36 = MEM[Y]
    lds r24, Y
    lds r25, Y + 1
    sts t36, r24
    sts t36 + 1, r25
    ; TAC: t37 = t35 | t36
    lds r24, t35
    lds r25, t35 + 1
    lds r22, t36
    lds r23, t36 + 1
    call fx_div
    sts t37, r24
    sts t37 + 1, r25
    ; TAC: t38 = t34 + t37
    lds r24, t34
    lds r25, t34 + 1
    lds r22, t37
    lds r23, t37 + 1
    add r24, r22
    adc r25, r23
    sts t38, r24
    sts t38 + 1, r25
    ; TAC: HIST[t38]
    lds r24, t38
    lds r25, t38 + 1
    call res_save
    ; TAC: t39 = PRINT[t38]
    lds r24, t38
    lds r25, t38 + 1
    call fx_print
    call uart_newline
    sts t39, r24
    sts t39 + 1, r25

    ; # Linha 12
    ; TAC: t40 = MEM[X]
    lds r24, X
    lds r25, X + 1
    sts t40, r24
    sts t40 + 1, r25
    ; TAC: t41 = MEM[Y]
    lds r24, Y
    lds r25, Y + 1
    sts t41, r24
    sts t41 + 1, r25
    ; TAC: t42 = t40 + t41
    lds r24, t40
    lds r25, t40 + 1
    lds r22, t41
    lds r23, t41 + 1
    add r24, r22
    adc r25, r23
    sts t42, r24
    sts t42 + 1, r25
    ; TAC: t43 = MEM[Z]
    lds r24, Z
    lds r25, Z + 1
    sts t43, r24
    sts t43 + 1, r25
    ; TAC: t44 = t42 > t43
    lds r24, t42
    lds r25, t42 + 1
    lds r22, t43
    lds r23, t43 + 1
    call op_gt
    sts t44, r24
    sts t44 + 1, r25
    ; TAC: HIST[t44]
    lds r24, t44
    lds r25, t44 + 1
    call res_save
    ; TAC: t45 = PRINT[t44]
    lds r24, t44
    lds r25, t44 + 1
    call fx_print
    call uart_newline
    sts t45, r24
    sts t45 + 1, r25

    ; # Linha 13
    ; TAC: t46 = MEM[X]
    lds r24, X
    lds r25, X + 1
    sts t46, r24
    sts t46 + 1, r25
    ; TAC: t47 = MEM[Y]
    lds r24, Y
    lds r25, Y + 1
    sts t47, r24
    sts t47 + 1, r25
    ; TAC: t48 = MEM[Z]
    lds r24, Z
    lds r25, Z + 1
    sts t48, r24
    sts t48 + 1, r25
    ; TAC: t49 = t47 + t48
    lds r24, t47
    lds r25, t47 + 1
    lds r22, t48
    lds r23, t48 + 1
    add r24, r22
    adc r25, r23
    sts t49, r24
    sts t49 + 1, r25
    ; TAC: t50 = t46 + t49
    lds r24, t46
    lds r25, t46 + 1
    lds r22, t49
    lds r23, t49 + 1
    add r24, r22
    adc r25, r23
    sts t50, r24
    sts t50 + 1, r25
    ; TAC: t52 = t50 >= 100
    lds r24, t50
    lds r25, t50 + 1
    ldi r22, 0
    ldi r23, 100
    call op_ge
    sts t52, r24
    sts t52 + 1, r25
    ; TAC: HIST[t52]
    lds r24, t52
    lds r25, t52 + 1
    call res_save
    ; TAC: t53 = PRINT[t52]
    lds r24, t52
    lds r25, t52 + 1
    call fx_print
    call uart_newline
    sts t53, r24
    sts t53 + 1, r25

    ; # Linha 14
    ; TAC: t54 = MEM[PI]
    lds r24, PI
    lds r25, PI + 1
    sts t54, r24
    sts t54 + 1, r25
    ; TAC: t55 = MEM[E]
    lds r24, E
    lds r25, E + 1
    sts t55, r24
    sts t55 + 1, r25
    ; TAC: t56 = t54 > t55
    lds r24, t54
    lds r25, t54 + 1
    lds r22, t55
    lds r23, t55 + 1
    call op_gt
    sts t56, r24
    sts t56 + 1, r25
    ; TAC: ifFalse t56 goto L0
    lds r24, t56
    lds r25, t56 + 1
    or r24, r25
    brne _skip_0
    rjmp L0
_skip_0:
    ; TAC: goto L1
    rjmp L1
L0:
L1:
    ; TAC: HIST[t57]
    lds r24, t57
    lds r25, t57 + 1
    call res_save

    ; # Linha 15
    ; TAC: t60 = MEM[X]
    lds r24, X
    lds r25, X + 1
    sts t60, r24
    sts t60 + 1, r25
    ; TAC: t61 = MEM[Y]
    lds r24, Y
    lds r25, Y + 1
    sts t61, r24
    sts t61 + 1, r25
    ; TAC: t62 = t60 ^ t61
    lds r24, t60
    lds r25, t60 + 1
    lds r22, t61
    lds r23, t61 + 1
    call fx_pow
    sts t62, r24
    sts t62 + 1, r25
    ; TAC: t63 = MEM[Z]
    lds r24, Z
    lds r25, Z + 1
    sts t63, r24
    sts t63 + 1, r25
    ; TAC: t64 = t62 % t63
    lds r24, t62
    lds r25, t62 + 1
    lds r22, t63
    lds r23, t63 + 1
    call op_mod
    sts t64, r24
    sts t64 + 1, r25
    ; TAC: HIST[t64]
    lds r24, t64
    lds r25, t64 + 1
    call res_save
    ; TAC: t65 = PRINT[t64]
    lds r24, t64
    lds r25, t64 + 1
    call fx_print
    call uart_newline
    sts t65, r24
    sts t65 + 1, r25

    ; # Linha 16
    ; TAC: t66 = MEM[Z]
    lds r24, Z
    lds r25, Z + 1
    sts t66, r24
    sts t66 + 1, r25
    ; TAC: t68 = t66 / 4
    lds r24, t66
    lds r25, t66 + 1
    ldi r22, 0
    ldi r23, 4
    call div16s
    sts t68, r24
    sts t68 + 1, r25
    ; TAC: t69 = MEM[X]
    lds r24, X
    lds r25, X + 1
    sts t69, r24
    sts t69 + 1, r25
    ; TAC: t71 = t69 | 5
    lds r24, t69
    lds r25, t69 + 1
    ldi r22, 0
    ldi r23, 5
    call fx_div
    sts t71, r24
    sts t71 + 1, r25
    ; TAC: t72 = t68 - t71
    lds r24, t68
    lds r25, t68 + 1
    lds r22, t71
    lds r23, t71 + 1
    sub r24, r22
    sbc r25, r23
    sts t72, r24
    sts t72 + 1, r25
    ; TAC: HIST[t72]
    lds r24, t72
    lds r25, t72 + 1
    call res_save
    ; TAC: t73 = PRINT[t72]
    lds r24, t72
    lds r25, t72 + 1
    call fx_print
    call uart_newline
    sts t73, r24
    sts t73 + 1, r25

    ; # Linha 17
    ; TAC: t74 = MEM[X]
    lds r24, X
    lds r25, X + 1
    sts t74, r24
    sts t74 + 1, r25
    ; TAC: t75 = MEM[Y]
    lds r24, Y
    lds r25, Y + 1
    sts t75, r24
    sts t75 + 1, r25
    ; TAC: t76 = t74 / t75
    lds r24, t74
    lds r25, t74 + 1
    lds r22, t75
    lds r23, t75 + 1
    call div16s
    sts t76, r24
    sts t76 + 1, r25
    ; TAC: t77 = MEM[Z]
    lds r24, Z
    lds r25, Z + 1
    sts t77, r24
    sts t77 + 1, r25
    ; TAC: t78 = t76 | t77
    lds r24, t76
    lds r25, t76 + 1
    lds r22, t77
    lds r23, t77 + 1
    call fx_div
    sts t78, r24
    sts t78 + 1, r25
    ; TAC: t80 = t78 * 2
    lds r24, t78
    lds r25, t78 + 1
    ldi r22, 0
    ldi r23, 2
    call fx_mul
    sts t80, r24
    sts t80 + 1, r25
    ; TAC: HIST[t80]
    lds r24, t80
    lds r25, t80 + 1
    call res_save
    ; TAC: t81 = PRINT[t80]
    lds r24, t80
    lds r25, t80 + 1
    call fx_print
    call uart_newline
    sts t81, r24
    sts t81 + 1, r25

    ; # Linha 18
    ; TAC: t82 = MEM[X]
    lds r24, X
    lds r25, X + 1
    sts t82, r24
    sts t82 + 1, r25
    ; TAC: t83 = MEM[Y]
    lds r24, Y
    lds r25, Y + 1
    sts t83, r24
    sts t83 + 1, r25
    ; TAC: t84 = t82 | t83
    lds r24, t82
    lds r25, t82 + 1
    lds r22, t83
    lds r23, t83 + 1
    call fx_div
    sts t84, r24
    sts t84 + 1, r25
    ; TAC: t85 = MEM[Z]
    lds r24, Z
    lds r25, Z + 1
    sts t85, r24
    sts t85 + 1, r25
    ; TAC: t87 = t85 / 2
    lds r24, t85
    lds r25, t85 + 1
    ldi r22, 0
    ldi r23, 2
    call div16s
    sts t87, r24
    sts t87 + 1, r25
    ; TAC: t88 = t84 - t87
    lds r24, t84
    lds r25, t84 + 1
    lds r22, t87
    lds r23, t87 + 1
    sub r24, r22
    sbc r25, r23
    sts t88, r24
    sts t88 + 1, r25
    ; TAC: HIST[t88]
    lds r24, t88
    lds r25, t88 + 1
    call res_save
    ; TAC: t89 = PRINT[t88]
    lds r24, t88
    lds r25, t88 + 1
    call fx_print
    call uart_newline
    sts t89, r24
    sts t89 + 1, r25

    ; # Linha 19
    ; TAC: t90 = MEM[X]
    lds r24, X
    lds r25, X + 1
    sts t90, r24
    sts t90 + 1, r25
    ; TAC: t92 = t90 > 50
    lds r24, t90
    lds r25, t90 + 1
    ldi r22, 0
    ldi r23, 50
    call op_gt
    sts t92, r24
    sts t92 + 1, r25
    ; TAC: ifFalse t92 goto L2
    lds r24, t92
    lds r25, t92 + 1
    or r24, r25
    brne _skip_1
    rjmp L2
_skip_1:
    ; TAC: t94 = MEM[X]
    lds r24, X
    lds r25, X + 1
    sts t94, r24
    sts t94 + 1, r25
    ; TAC: goto L3
    rjmp L3
L2:
    ; TAC: t97 = MEM[X]
    lds r24, X
    lds r25, X + 1
    sts t97, r24
    sts t97 + 1, r25
L3:
    ; TAC: HIST[t93]
    lds r24, t93
    lds r25, t93 + 1
    call res_save

    ; # Linha 20
    ; TAC: t100 = MEM[Y]
    lds r24, Y
    lds r25, Y + 1
    sts t100, r24
    sts t100 + 1, r25
    ; TAC: t101 = MEM[Z]
    lds r24, Z
    lds r25, Z + 1
    sts t101, r24
    sts t101 + 1, r25
    ; TAC: t102 = t100 == t101
    lds r24, t100
    lds r25, t100 + 1
    lds r22, t101
    lds r23, t101 + 1
    call op_eq
    sts t102, r24
    sts t102 + 1, r25
    ; TAC: ifFalse t102 goto L4
    lds r24, t102
    lds r25, t102 + 1
    or r24, r25
    brne _skip_2
    rjmp L4
_skip_2:
    ; TAC: goto L5
    rjmp L5
L4:
L5:
    ; TAC: HIST[t103]
    lds r24, t103
    lds r25, t103 + 1
    call res_save

    ; # Linha 21
    ; TAC: MEM[I] = 0
    ldi r24, 0
    ldi r25, 0
    sts I, r24
    sts I + 1, r25
    ; TAC: HIST[0]
    ldi r24, 0
    ldi r25, 0
    call res_save

    ; # Linha 22
L6:
    ; TAC: t108 = MEM[I]
    lds r24, I
    lds r25, I + 1
    sts t108, r24
    sts t108 + 1, r25
    ; TAC: t110 = t108 < 10
    lds r24, t108
    lds r25, t108 + 1
    ldi r22, 0
    ldi r23, 10
    call op_lt
    sts t110, r24
    sts t110 + 1, r25
    ; TAC: ifFalse t110 goto L7
    lds r24, t110
    lds r25, t110 + 1
    or r24, r25
    brne _skip_3
    rjmp L7
_skip_3:
    ; TAC: t111 = MEM[I]
    lds r24, I
    lds r25, I + 1
    sts t111, r24
    sts t111 + 1, r25
    ; TAC: t113 = t111 + 1
    lds r24, t111
    lds r25, t111 + 1
    ldi r22, 0
    ldi r23, 1
    add r24, r22
    adc r25, r23
    sts t113, r24
    sts t113 + 1, r25
    ; TAC: MEM[I] = t113
    lds r24, t113
    lds r25, t113 + 1
    sts I, r24
    sts I + 1, r25
    ; TAC: goto L6
    rjmp L6
L7:
    ; TAC: HIST[t107]
    lds r24, t107
    lds r25, t107 + 1
    call res_save

    ; # Linha 23
    ; TAC: t114 = MEM[I]
    lds r24, I
    lds r25, I + 1
    sts t114, r24
    sts t114 + 1, r25
    ; TAC: HIST[t114]
    lds r24, t114
    lds r25, t114 + 1
    call res_save
    ; TAC: t115 = PRINT[t114]
    lds r24, t114
    lds r25, t114 + 1
    call fx_print
    call uart_newline
    sts t115, r24
    sts t115 + 1, r25

    ; # Linha 24
    ; TAC: MEM[CONTADOR] = 1
    ldi r24, 0
    ldi r25, 1
    sts CONTADOR, r24
    sts CONTADOR + 1, r25
    ; TAC: HIST[1]
    ldi r24, 0
    ldi r25, 1
    call res_save

    ; # Linha 25
L8:
    ; TAC: t118 = MEM[CONTADOR]
    lds r24, CONTADOR
    lds r25, CONTADOR + 1
    sts t118, r24
    sts t118 + 1, r25
    ; TAC: t120 = t118 <= 5
    lds r24, t118
    lds r25, t118 + 1
    ldi r22, 0
    ldi r23, 5
    call op_le
    sts t120, r24
    sts t120 + 1, r25
    ; TAC: ifFalse t120 goto L9
    lds r24, t120
    lds r25, t120 + 1
    or r24, r25
    brne _skip_4
    rjmp L9
_skip_4:
    ; TAC: t121 = MEM[CONTADOR]
    lds r24, CONTADOR
    lds r25, CONTADOR + 1
    sts t121, r24
    sts t121 + 1, r25
    ; TAC: t123 = t121 * 2
    lds r24, t121
    lds r25, t121 + 1
    ldi r22, 0
    ldi r23, 2
    call fx_mul
    sts t123, r24
    sts t123 + 1, r25
    ; TAC: MEM[CONTADOR] = t123
    lds r24, t123
    lds r25, t123 + 1
    sts CONTADOR, r24
    sts CONTADOR + 1, r25
    ; TAC: goto L8
    rjmp L8
L9:
    ; TAC: HIST[t117]
    lds r24, t117
    lds r25, t117 + 1
    call res_save

    ; # Linha 26
    ; TAC: t124 = MEM[CONTADOR]
    lds r24, CONTADOR
    lds r25, CONTADOR + 1
    sts t124, r24
    sts t124 + 1, r25
    ; TAC: HIST[t124]
    lds r24, t124
    lds r25, t124 + 1
    call res_save
    ; TAC: t125 = PRINT[t124]
    lds r24, t124
    lds r25, t124 + 1
    call fx_print
    call uart_newline
    sts t125, r24
    sts t125 + 1, r25

    ; # Linha 27
    ; TAC: HIST[148]
    ldi r24, 0
    ldi r25, 148
    call res_save
    ; TAC: t133 = PRINT[148]
    ldi r24, 0
    ldi r25, 148
    call fx_print
    call uart_newline
    sts t133, r24
    sts t133 + 1, r25

    ; # Linha 28
    ; TAC: t134 = MEM[X]
    lds r24, X
    lds r25, X + 1
    sts t134, r24
    sts t134 + 1, r25
    ; TAC: t135 = MEM[Y]
    lds r24, Y
    lds r25, Y + 1
    sts t135, r24
    sts t135 + 1, r25
    ; TAC: t136 = t134 + t135
    lds r24, t134
    lds r25, t134 + 1
    lds r22, t135
    lds r23, t135 + 1
    add r24, r22
    adc r25, r23
    sts t136, r24
    sts t136 + 1, r25
    ; TAC: t138 = t136 / 2
    lds r24, t136
    lds r25, t136 + 1
    ldi r22, 0
    ldi r23, 2
    call div16s
    sts t138, r24
    sts t138 + 1, r25
    ; TAC: HIST[t138]
    lds r24, t138
    lds r25, t138 + 1
    call res_save
    ; TAC: t139 = PRINT[t138]
    lds r24, t138
    lds r25, t138 + 1
    call fx_print
    call uart_newline
    sts t139, r24
    sts t139 + 1, r25

    ; # Linha 29
    ; TAC: t140 = MEM[PI]
    lds r24, PI
    lds r25, PI + 1
    sts t140, r24
    sts t140 + 1, r25
    ; TAC: t142 = t140 * 2
    lds r24, t140
    lds r25, t140 + 1
    ldi r22, 0
    ldi r23, 2
    call fx_mul
    sts t142, r24
    sts t142 + 1, r25
    ; TAC: t143 = MEM[X]
    lds r24, X
    lds r25, X + 1
    sts t143, r24
    sts t143 + 1, r25
    ; TAC: t144 = t142 * t143
    lds r24, t142
    lds r25, t142 + 1
    lds r22, t143
    lds r23, t143 + 1
    call fx_mul
    sts t144, r24
    sts t144 + 1, r25
    ; TAC: HIST[t144]
    lds r24, t144
    lds r25, t144 + 1
    call res_save
    ; TAC: t145 = PRINT[t144]
    lds r24, t144
    lds r25, t144 + 1
    call fx_print
    call uart_newline
    sts t145, r24
    sts t145 + 1, r25

    ; # Linha 30
    ; TAC: t146 = MEM[X]
    lds r24, X
    lds r25, X + 1
    sts t146, r24
    sts t146 + 1, r25
    ; TAC: t147 = MEM[Y]
    lds r24, Y
    lds r25, Y + 1
    sts t147, r24
    sts t147 + 1, r25
    ; TAC: t148 = t146 / t147
    lds r24, t146
    lds r25, t146 + 1
    lds r22, t147
    lds r23, t147 + 1
    call div16s
    sts t148, r24
    sts t148 + 1, r25
    ; TAC: t149 = MEM[Y]
    lds r24, Y
    lds r25, Y + 1
    sts t149, r24
    sts t149 + 1, r25
    ; TAC: t150 = MEM[Z]
    lds r24, Z
    lds r25, Z + 1
    sts t150, r24
    sts t150 + 1, r25
    ; TAC: t151 = t149 / t150
    lds r24, t149
    lds r25, t149 + 1
    lds r22, t150
    lds r23, t150 + 1
    call div16s
    sts t151, r24
    sts t151 + 1, r25
    ; TAC: t152 = t148 * t151
    lds r24, t148
    lds r25, t148 + 1
    lds r22, t151
    lds r23, t151 + 1
    call fx_mul
    sts t152, r24
    sts t152 + 1, r25
    ; TAC: HIST[t152]
    lds r24, t152
    lds r25, t152 + 1
    call res_save
    ; TAC: t153 = PRINT[t152]
    lds r24, t152
    lds r25, t152 + 1
    call fx_print
    call uart_newline
    sts t153, r24
    sts t153 + 1, r25

    ; # Linha 31
    ; TAC: MEM[A] = 1
    ldi r24, 0
    ldi r25, 1
    sts A, r24
    sts A + 1, r25
    ; TAC: HIST[1]
    ldi r24, 0
    ldi r25, 1
    call res_save

    ; # Linha 32
    ; TAC: MEM[C] = 3
    ldi r24, 0
    ldi r25, 3
    sts C, r24
    sts C + 1, r25
    ; TAC: HIST[3]
    ldi r24, 0
    ldi r25, 3
    call res_save

    ; # Linha 33
    ; TAC: MEM[D] = 4
    ldi r24, 0
    ldi r25, 4
    sts D, r24
    sts D + 1, r25
    ; TAC: HIST[4]
    ldi r24, 0
    ldi r25, 4
    call res_save

    ; # Linha 34
    ; TAC: MEM[F] = 5
    ldi r24, 0
    ldi r25, 5
    sts F, r24
    sts F + 1, r25
    ; TAC: HIST[5]
    ldi r24, 0
    ldi r25, 5
    call res_save

    ; # Linha 35
    ; TAC: MEM[B] = 5
    ldi r24, 0
    ldi r25, 5
    sts B, r24
    sts B + 1, r25
    ; TAC: HIST[5]
    ldi r24, 0
    ldi r25, 5
    call res_save

    ; # Linha 36
    ; TAC: MEM[AREA] = 2
    ldi r24, 0
    ldi r25, 2
    sts AREA, r24
    sts AREA + 1, r25
    ; TAC: HIST[2]
    ldi r24, 0
    ldi r25, 2
    call res_save

    ; # Linha 37
    ; TAC: MEM[VOLUME] = 2
    ldi r24, 0
    ldi r25, 2
    sts VOLUME, r24
    sts VOLUME + 1, r25
    ; TAC: HIST[2]
    ldi r24, 0
    ldi r25, 2
    call res_save

    ; # Linha 38
    ; TAC: HIST[0.3333333333333333]
    ldi r24, 85
    ldi r25, 0
    call res_save
    ; TAC: t164 = PRINT[0.3333333333333333]
    ldi r24, 85
    ldi r25, 0
    call fx_print
    call uart_newline
    sts t164, r24
    sts t164 + 1, r25

    ; # Linha 39
    ; TAC: HIST[0.6666666666666666]
    ldi r24, 170
    ldi r25, 0
    call res_save
    ; TAC: t168 = PRINT[0.6666666666666666]
    ldi r24, 170
    ldi r25, 0
    call fx_print
    call uart_newline
    sts t168, r24
    sts t168 + 1, r25

    ; # Linha 40
    ; TAC: HIST[0.8333333333333334]
    ldi r24, 213
    ldi r25, 0
    call res_save
    ; TAC: t172 = PRINT[0.8333333333333334]
    ldi r24, 213
    ldi r25, 0
    call fx_print
    call uart_newline
    sts t172, r24
    sts t172 + 1, r25

    ; # Linha 41
    ; TAC: HIST[3.142857142857143]
    ldi r24, 36
    ldi r25, 3
    call res_save
    ; TAC: t176 = PRINT[3.142857142857143]
    ldi r24, 36
    ldi r25, 3
    call fx_print
    call uart_newline
    sts t176, r24
    sts t176 + 1, r25

    ; # Linha 42
    ; TAC: HIST[3.1415929203539825]
    ldi r24, 36
    ldi r25, 3
    call res_save
    ; TAC: t180 = PRINT[3.1415929203539825]
    ldi r24, 36
    ldi r25, 3
    call fx_print
    call uart_newline
    sts t180, r24
    sts t180 + 1, r25

    ; # Linha 43
    ; TAC: t182 = MEM[X]
    lds r24, X
    lds r25, X + 1
    sts t182, r24
    sts t182 + 1, r25
    ; TAC: t183 = 0 - t182
    ldi r24, 0
    ldi r25, 0
    lds r22, t182
    lds r23, t182 + 1
    sub r24, r22
    sbc r25, r23
    sts t183, r24
    sts t183 + 1, r25
    ; TAC: HIST[t183]
    lds r24, t183
    lds r25, t183 + 1
    call res_save
    ; TAC: t184 = PRINT[t183]
    lds r24, t183
    lds r25, t183 + 1
    call fx_print
    call uart_newline
    sts t184, r24
    sts t184 + 1, r25

    ; # Linha 44
    ; TAC: t186 = MEM[Y]
    lds r24, Y
    lds r25, Y + 1
    sts t186, r24
    sts t186 + 1, r25
    ; TAC: t187 = MEM[Z]
    lds r24, Z
    lds r25, Z + 1
    sts t187, r24
    sts t187 + 1, r25
    ; TAC: t188 = t186 + t187
    lds r24, t186
    lds r25, t186 + 1
    lds r22, t187
    lds r23, t187 + 1
    add r24, r22
    adc r25, r23
    sts t188, r24
    sts t188 + 1, r25
    ; TAC: t189 = 0 - t188
    ldi r24, 0
    ldi r25, 0
    lds r22, t188
    lds r23, t188 + 1
    sub r24, r22
    sbc r25, r23
    sts t189, r24
    sts t189 + 1, r25
    ; TAC: HIST[t189]
    lds r24, t189
    lds r25, t189 + 1
    call res_save
    ; TAC: t190 = PRINT[t189]
    lds r24, t189
    lds r25, t189 + 1
    call fx_print
    call uart_newline
    sts t190, r24
    sts t190 + 1, r25

    ; # Linha 45
    ; TAC: t192 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t192, r24
    sts t192 + 1, r25
    ; TAC: HIST[t192]
    lds r24, t192
    lds r25, t192 + 1
    call res_save
    ; TAC: t193 = PRINT[t192]
    lds r24, t192
    lds r25, t192 + 1
    call fx_print
    call uart_newline
    sts t193, r24
    sts t193 + 1, r25

    ; # Linha 46
    ; TAC: t194 = MEM[A]
    lds r24, A
    lds r25, A + 1
    sts t194, r24
    sts t194 + 1, r25
    ; TAC: t195 = MEM[B]
    lds r24, B
    lds r25, B + 1
    sts t195, r24
    sts t195 + 1, r25
    ; TAC: t196 = t194 - t195
    lds r24, t194
    lds r25, t194 + 1
    lds r22, t195
    lds r23, t195 + 1
    sub r24, r22
    sbc r25, r23
    sts t196, r24
    sts t196 + 1, r25
    ; TAC: t198 = t196 < 0
    lds r24, t196
    lds r25, t196 + 1
    ldi r22, 0
    ldi r23, 0
    call op_lt
    sts t198, r24
    sts t198 + 1, r25
    ; TAC: HIST[t198]
    lds r24, t198
    lds r25, t198 + 1
    call res_save
    ; TAC: t199 = PRINT[t198]
    lds r24, t198
    lds r25, t198 + 1
    call fx_print
    call uart_newline
    sts t199, r24
    sts t199 + 1, r25

    ; # Linha 47
    ; TAC: t200 = MEM[A]
    lds r24, A
    lds r25, A + 1
    sts t200, r24
    sts t200 + 1, r25
    ; TAC: t201 = MEM[B]
    lds r24, B
    lds r25, B + 1
    sts t201, r24
    sts t201 + 1, r25
    ; TAC: t202 = t200 + t201
    lds r24, t200
    lds r25, t200 + 1
    lds r22, t201
    lds r23, t201 + 1
    add r24, r22
    adc r25, r23
    sts t202, r24
    sts t202 + 1, r25
    ; TAC: t203 = MEM[C]
    lds r24, C
    lds r25, C + 1
    sts t203, r24
    sts t203 + 1, r25
    ; TAC: t204 = t202 * t203
    lds r24, t202
    lds r25, t202 + 1
    lds r22, t203
    lds r23, t203 + 1
    call fx_mul
    sts t204, r24
    sts t204 + 1, r25
    ; TAC: HIST[t204]
    lds r24, t204
    lds r25, t204 + 1
    call res_save
    ; TAC: t205 = PRINT[t204]
    lds r24, t204
    lds r25, t204 + 1
    call fx_print
    call uart_newline
    sts t205, r24
    sts t205 + 1, r25

    ; # Linha 48
    ; TAC: t207 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t207, r24
    sts t207 + 1, r25
    ; TAC: HIST[t207]
    lds r24, t207
    lds r25, t207 + 1
    call res_save
    ; TAC: t208 = PRINT[t207]
    lds r24, t207
    lds r25, t207 + 1
    call fx_print
    call uart_newline
    sts t208, r24
    sts t208 + 1, r25

    ; # Linha 49
    ; TAC: t209 = MEM[A]
    lds r24, A
    lds r25, A + 1
    sts t209, r24
    sts t209 + 1, r25
    ; TAC: t210 = MEM[B]
    lds r24, B
    lds r25, B + 1
    sts t210, r24
    sts t210 + 1, r25
    ; TAC: t211 = t209 * t210
    lds r24, t209
    lds r25, t209 + 1
    lds r22, t210
    lds r23, t210 + 1
    call fx_mul
    sts t211, r24
    sts t211 + 1, r25
    ; TAC: t212 = MEM[C]
    lds r24, C
    lds r25, C + 1
    sts t212, r24
    sts t212 + 1, r25
    ; TAC: t213 = t211 + t212
    lds r24, t211
    lds r25, t211 + 1
    lds r22, t212
    lds r23, t212 + 1
    add r24, r22
    adc r25, r23
    sts t213, r24
    sts t213 + 1, r25
    ; TAC: HIST[t213]
    lds r24, t213
    lds r25, t213 + 1
    call res_save
    ; TAC: t214 = PRINT[t213]
    lds r24, t213
    lds r25, t213 + 1
    call fx_print
    call uart_newline
    sts t214, r24
    sts t214 + 1, r25

    ; # Linha 50
    ; TAC: t216 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t216, r24
    sts t216 + 1, r25
    ; TAC: HIST[t216]
    lds r24, t216
    lds r25, t216 + 1
    call res_save
    ; TAC: t217 = PRINT[t216]
    lds r24, t216
    lds r25, t216 + 1
    call fx_print
    call uart_newline
    sts t217, r24
    sts t217 + 1, r25

    ; # Linha 51
    ; TAC: t218 = MEM[A]
    lds r24, A
    lds r25, A + 1
    sts t218, r24
    sts t218 + 1, r25
    ; TAC: t219 = MEM[B]
    lds r24, B
    lds r25, B + 1
    sts t219, r24
    sts t219 + 1, r25
    ; TAC: t220 = t218 + t219
    lds r24, t218
    lds r25, t218 + 1
    lds r22, t219
    lds r23, t219 + 1
    add r24, r22
    adc r25, r23
    sts t220, r24
    sts t220 + 1, r25
    ; TAC: t221 = MEM[C]
    lds r24, C
    lds r25, C + 1
    sts t221, r24
    sts t221 + 1, r25
    ; TAC: t222 = t220 * t221
    lds r24, t220
    lds r25, t220 + 1
    lds r22, t221
    lds r23, t221 + 1
    call fx_mul
    sts t222, r24
    sts t222 + 1, r25
    ; TAC: t223 = MEM[D]
    lds r24, D
    lds r25, D + 1
    sts t223, r24
    sts t223 + 1, r25
    ; TAC: t224 = t222 + t223
    lds r24, t222
    lds r25, t222 + 1
    lds r22, t223
    lds r23, t223 + 1
    add r24, r22
    adc r25, r23
    sts t224, r24
    sts t224 + 1, r25
    ; TAC: HIST[t224]
    lds r24, t224
    lds r25, t224 + 1
    call res_save
    ; TAC: t225 = PRINT[t224]
    lds r24, t224
    lds r25, t224 + 1
    call fx_print
    call uart_newline
    sts t225, r24
    sts t225 + 1, r25

    ; # Linha 52
    ; TAC: t226 = MEM[A]
    lds r24, A
    lds r25, A + 1
    sts t226, r24
    sts t226 + 1, r25
    ; TAC: t227 = MEM[B]
    lds r24, B
    lds r25, B + 1
    sts t227, r24
    sts t227 + 1, r25
    ; TAC: t228 = t226 * t227
    lds r24, t226
    lds r25, t226 + 1
    lds r22, t227
    lds r23, t227 + 1
    call fx_mul
    sts t228, r24
    sts t228 + 1, r25
    ; TAC: t229 = MEM[C]
    lds r24, C
    lds r25, C + 1
    sts t229, r24
    sts t229 + 1, r25
    ; TAC: t230 = t228 + t229
    lds r24, t228
    lds r25, t228 + 1
    lds r22, t229
    lds r23, t229 + 1
    add r24, r22
    adc r25, r23
    sts t230, r24
    sts t230 + 1, r25
    ; TAC: t231 = MEM[D]
    lds r24, D
    lds r25, D + 1
    sts t231, r24
    sts t231 + 1, r25
    ; TAC: t232 = t230 * t231
    lds r24, t230
    lds r25, t230 + 1
    lds r22, t231
    lds r23, t231 + 1
    call fx_mul
    sts t232, r24
    sts t232 + 1, r25
    ; TAC: HIST[t232]
    lds r24, t232
    lds r25, t232 + 1
    call res_save
    ; TAC: t233 = PRINT[t232]
    lds r24, t232
    lds r25, t232 + 1
    call fx_print
    call uart_newline
    sts t233, r24
    sts t233 + 1, r25

    ; # Linha 53
    ; TAC: t235 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t235, r24
    sts t235 + 1, r25
    ; TAC: HIST[t235]
    lds r24, t235
    lds r25, t235 + 1
    call res_save
    ; TAC: t236 = PRINT[t235]
    lds r24, t235
    lds r25, t235 + 1
    call fx_print
    call uart_newline
    sts t236, r24
    sts t236 + 1, r25

    ; # Linha 54
    ; TAC: MEM[N] = 10
    ldi r24, 0
    ldi r25, 10
    sts N, r24
    sts N + 1, r25
    ; TAC: HIST[10]
    ldi r24, 0
    ldi r25, 10
    call res_save

    ; # Linha 55
L10:
    ; TAC: t239 = MEM[N]
    lds r24, N
    lds r25, N + 1
    sts t239, r24
    sts t239 + 1, r25
    ; TAC: t241 = t239 > 0
    lds r24, t239
    lds r25, t239 + 1
    ldi r22, 0
    ldi r23, 0
    call op_gt
    sts t241, r24
    sts t241 + 1, r25
    ; TAC: ifFalse t241 goto L11
    lds r24, t241
    lds r25, t241 + 1
    or r24, r25
    brne _skip_5
    rjmp L11
_skip_5:
    ; TAC: t242 = MEM[N]
    lds r24, N
    lds r25, N + 1
    sts t242, r24
    sts t242 + 1, r25
    ; TAC: t244 = t242 - 1
    lds r24, t242
    lds r25, t242 + 1
    ldi r22, 0
    ldi r23, 1
    sub r24, r22
    sbc r25, r23
    sts t244, r24
    sts t244 + 1, r25
    ; TAC: MEM[N] = t244
    lds r24, t244
    lds r25, t244 + 1
    sts N, r24
    sts N + 1, r25
    ; TAC: goto L10
    rjmp L10
L11:
    ; TAC: HIST[t238]
    lds r24, t238
    lds r25, t238 + 1
    call res_save

    ; # Linha 56
    ; TAC: t245 = MEM[N]
    lds r24, N
    lds r25, N + 1
    sts t245, r24
    sts t245 + 1, r25
    ; TAC: HIST[t245]
    lds r24, t245
    lds r25, t245 + 1
    call res_save
    ; TAC: t246 = PRINT[t245]
    lds r24, t245
    lds r25, t245 + 1
    call fx_print
    call uart_newline
    sts t246, r24
    sts t246 + 1, r25

    ; # Linha 57
    ; TAC: MEM[SOMA] = 0
    ldi r24, 0
    ldi r25, 0
    sts SOMA, r24
    sts SOMA + 1, r25
    ; TAC: HIST[0]
    ldi r24, 0
    ldi r25, 0
    call res_save

    ; # Linha 58
    ; TAC: t249 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t249, r24
    sts t249 + 1, r25
    ; TAC: HIST[t249]
    lds r24, t249
    lds r25, t249 + 1
    call res_save
    ; TAC: t250 = PRINT[t249]
    lds r24, t249
    lds r25, t249 + 1
    call fx_print
    call uart_newline
    sts t250, r24
    sts t250 + 1, r25

    ; # Linha 59
    ; TAC: MEM[I] = 1
    ldi r24, 0
    ldi r25, 1
    sts I, r24
    sts I + 1, r25
    ; TAC: HIST[1]
    ldi r24, 0
    ldi r25, 1
    call res_save

    ; # Linha 60
L12:
    ; TAC: t253 = MEM[I]
    lds r24, I
    lds r25, I + 1
    sts t253, r24
    sts t253 + 1, r25
    ; TAC: t255 = t253 <= 10
    lds r24, t253
    lds r25, t253 + 1
    ldi r22, 0
    ldi r23, 10
    call op_le
    sts t255, r24
    sts t255 + 1, r25
    ; TAC: ifFalse t255 goto L13
    lds r24, t255
    lds r25, t255 + 1
    or r24, r25
    brne _skip_6
    rjmp L13
_skip_6:
    ; TAC: t256 = MEM[SOMA]
    lds r24, SOMA
    lds r25, SOMA + 1
    sts t256, r24
    sts t256 + 1, r25
    ; TAC: t257 = MEM[I]
    lds r24, I
    lds r25, I + 1
    sts t257, r24
    sts t257 + 1, r25
    ; TAC: t258 = t256 + t257
    lds r24, t256
    lds r25, t256 + 1
    lds r22, t257
    lds r23, t257 + 1
    add r24, r22
    adc r25, r23
    sts t258, r24
    sts t258 + 1, r25
    ; TAC: MEM[SOMA] = t258
    lds r24, t258
    lds r25, t258 + 1
    sts SOMA, r24
    sts SOMA + 1, r25
    ; TAC: t259 = MEM[I]
    lds r24, I
    lds r25, I + 1
    sts t259, r24
    sts t259 + 1, r25
    ; TAC: t261 = t259 + 1
    lds r24, t259
    lds r25, t259 + 1
    ldi r22, 0
    ldi r23, 1
    add r24, r22
    adc r25, r23
    sts t261, r24
    sts t261 + 1, r25
    ; TAC: MEM[I] = t261
    lds r24, t261
    lds r25, t261 + 1
    sts I, r24
    sts I + 1, r25
    ; TAC: goto L12
    rjmp L12
L13:
    ; TAC: HIST[t252]
    lds r24, t252
    lds r25, t252 + 1
    call res_save

    ; # Linha 61
    ; TAC: t263 = MEM[SOMA]
    lds r24, SOMA
    lds r25, SOMA + 1
    sts t263, r24
    sts t263 + 1, r25
    ; TAC: HIST[t263]
    lds r24, t263
    lds r25, t263 + 1
    call res_save
    ; TAC: t264 = PRINT[t263]
    lds r24, t263
    lds r25, t263 + 1
    call fx_print
    call uart_newline
    sts t264, r24
    sts t264 + 1, r25

    ; # Linha 62
    ; TAC: t265 = MEM[X]
    lds r24, X
    lds r25, X + 1
    sts t265, r24
    sts t265 + 1, r25
    ; TAC: t266 = MEM[Y]
    lds r24, Y
    lds r25, Y + 1
    sts t266, r24
    sts t266 + 1, r25
    ; TAC: t267 = t265 / t266
    lds r24, t265
    lds r25, t265 + 1
    lds r22, t266
    lds r23, t266 + 1
    call div16s
    sts t267, r24
    sts t267 + 1, r25
    ; TAC: t268 = MEM[Y]
    lds r24, Y
    lds r25, Y + 1
    sts t268, r24
    sts t268 + 1, r25
    ; TAC: t269 = t267 * t268
    lds r24, t267
    lds r25, t267 + 1
    lds r22, t268
    lds r23, t268 + 1
    call fx_mul
    sts t269, r24
    sts t269 + 1, r25
    ; TAC: t270 = MEM[X]
    lds r24, X
    lds r25, X + 1
    sts t270, r24
    sts t270 + 1, r25
    ; TAC: t271 = t269 - t270
    lds r24, t269
    lds r25, t269 + 1
    lds r22, t270
    lds r23, t270 + 1
    sub r24, r22
    sbc r25, r23
    sts t271, r24
    sts t271 + 1, r25
    ; TAC: HIST[t271]
    lds r24, t271
    lds r25, t271 + 1
    call res_save
    ; TAC: t272 = PRINT[t271]
    lds r24, t271
    lds r25, t271 + 1
    call fx_print
    call uart_newline
    sts t272, r24
    sts t272 + 1, r25

    ; # Linha 63
    ; TAC: t273 = MEM[X]
    lds r24, X
    lds r25, X + 1
    sts t273, r24
    sts t273 + 1, r25
    ; TAC: t274 = MEM[Y]
    lds r24, Y
    lds r25, Y + 1
    sts t274, r24
    sts t274 + 1, r25
    ; TAC: t275 = t273 + t274
    lds r24, t273
    lds r25, t273 + 1
    lds r22, t274
    lds r23, t274 + 1
    add r24, r22
    adc r25, r23
    sts t275, r24
    sts t275 + 1, r25
    ; TAC: t276 = MEM[Z]
    lds r24, Z
    lds r25, Z + 1
    sts t276, r24
    sts t276 + 1, r25
    ; TAC: t278 = t276 + 10
    lds r24, t276
    lds r25, t276 + 1
    ldi r22, 0
    ldi r23, 10
    add r24, r22
    adc r25, r23
    sts t278, r24
    sts t278 + 1, r25
    ; TAC: t279 = t275 * t278
    lds r24, t275
    lds r25, t275 + 1
    lds r22, t278
    lds r23, t278 + 1
    call fx_mul
    sts t279, r24
    sts t279 + 1, r25
    ; TAC: t280 = MEM[A]
    lds r24, A
    lds r25, A + 1
    sts t280, r24
    sts t280 + 1, r25
    ; TAC: t281 = MEM[B]
    lds r24, B
    lds r25, B + 1
    sts t281, r24
    sts t281 + 1, r25
    ; TAC: t282 = t280 + t281
    lds r24, t280
    lds r25, t280 + 1
    lds r22, t281
    lds r23, t281 + 1
    add r24, r22
    adc r25, r23
    sts t282, r24
    sts t282 + 1, r25
    ; TAC: t283 = MEM[C]
    lds r24, C
    lds r25, C + 1
    sts t283, r24
    sts t283 + 1, r25
    ; TAC: t285 = t283 * 1
    lds r24, t283
    lds r25, t283 + 1
    ldi r22, 0
    ldi r23, 1
    call fx_mul
    sts t285, r24
    sts t285 + 1, r25
    ; TAC: t286 = t282 / t285
    lds r24, t282
    lds r25, t282 + 1
    lds r22, t285
    lds r23, t285 + 1
    call div16s
    sts t286, r24
    sts t286 + 1, r25
    ; TAC: t287 = t279 - t286
    lds r24, t279
    lds r25, t279 + 1
    lds r22, t286
    lds r23, t286 + 1
    sub r24, r22
    sbc r25, r23
    sts t287, r24
    sts t287 + 1, r25
    ; TAC: HIST[t287]
    lds r24, t287
    lds r25, t287 + 1
    call res_save
    ; TAC: t288 = PRINT[t287]
    lds r24, t287
    lds r25, t287 + 1
    call fx_print
    call uart_newline
    sts t288, r24
    sts t288 + 1, r25

    ; # Linha 64
    ; TAC: MEM[I] = 5
    ldi r24, 0
    ldi r25, 5
    sts I, r24
    sts I + 1, r25
    ; TAC: HIST[5]
    ldi r24, 0
    ldi r25, 5
    call res_save

    ; # Linha 65
    ; TAC: MEM[FAT] = 1
    ldi r24, 0
    ldi r25, 1
    sts FAT, r24
    sts FAT + 1, r25
    ; TAC: HIST[1]
    ldi r24, 0
    ldi r25, 1
    call res_save

    ; # Linha 66
L14:
    ; TAC: t292 = MEM[I]
    lds r24, I
    lds r25, I + 1
    sts t292, r24
    sts t292 + 1, r25
    ; TAC: t294 = t292 > 0
    lds r24, t292
    lds r25, t292 + 1
    ldi r22, 0
    ldi r23, 0
    call op_gt
    sts t294, r24
    sts t294 + 1, r25
    ; TAC: ifFalse t294 goto L15
    lds r24, t294
    lds r25, t294 + 1
    or r24, r25
    brne _skip_7
    rjmp L15
_skip_7:
    ; TAC: t295 = MEM[FAT]
    lds r24, FAT
    lds r25, FAT + 1
    sts t295, r24
    sts t295 + 1, r25
    ; TAC: t296 = MEM[I]
    lds r24, I
    lds r25, I + 1
    sts t296, r24
    sts t296 + 1, r25
    ; TAC: t297 = t295 * t296
    lds r24, t295
    lds r25, t295 + 1
    lds r22, t296
    lds r23, t296 + 1
    call fx_mul
    sts t297, r24
    sts t297 + 1, r25
    ; TAC: MEM[FAT] = t297
    lds r24, t297
    lds r25, t297 + 1
    sts FAT, r24
    sts FAT + 1, r25
    ; TAC: t298 = MEM[I]
    lds r24, I
    lds r25, I + 1
    sts t298, r24
    sts t298 + 1, r25
    ; TAC: t300 = t298 - 1
    lds r24, t298
    lds r25, t298 + 1
    ldi r22, 0
    ldi r23, 1
    sub r24, r22
    sbc r25, r23
    sts t300, r24
    sts t300 + 1, r25
    ; TAC: MEM[I] = t300
    lds r24, t300
    lds r25, t300 + 1
    sts I, r24
    sts I + 1, r25
    ; TAC: goto L14
    rjmp L14
L15:
    ; TAC: HIST[t291]
    lds r24, t291
    lds r25, t291 + 1
    call res_save

    ; # Linha 67
    ; TAC: t302 = MEM[FAT]
    lds r24, FAT
    lds r25, FAT + 1
    sts t302, r24
    sts t302 + 1, r25
    ; TAC: HIST[t302]
    lds r24, t302
    lds r25, t302 + 1
    call res_save
    ; TAC: t303 = PRINT[t302]
    lds r24, t302
    lds r25, t302 + 1
    call fx_print
    call uart_newline
    sts t303, r24
    sts t303 + 1, r25

    ; # Linha 68
    ; TAC: MEM[LIMITE] = 100
    ldi r24, 0
    ldi r25, 100
    sts LIMITE, r24
    sts LIMITE + 1, r25
    ; TAC: HIST[100]
    ldi r24, 0
    ldi r25, 100
    call res_save

    ; # Linha 69
    ; TAC: MEM[CONTADOR] = 0
    ldi r24, 0
    ldi r25, 0
    sts CONTADOR, r24
    sts CONTADOR + 1, r25
    ; TAC: HIST[0]
    ldi r24, 0
    ldi r25, 0
    call res_save

    ; # Linha 70
    ; TAC: MEM[SOMA] = 0
    ldi r24, 0
    ldi r25, 0
    sts SOMA, r24
    sts SOMA + 1, r25
    ; TAC: HIST[0]
    ldi r24, 0
    ldi r25, 0
    call res_save

    ; # Linha 71
L16:
    ; TAC: t308 = MEM[CONTADOR]
    lds r24, CONTADOR
    lds r25, CONTADOR + 1
    sts t308, r24
    sts t308 + 1, r25
    ; TAC: t309 = MEM[LIMITE]
    lds r24, LIMITE
    lds r25, LIMITE + 1
    sts t309, r24
    sts t309 + 1, r25
    ; TAC: t310 = t308 < t309
    lds r24, t308
    lds r25, t308 + 1
    lds r22, t309
    lds r23, t309 + 1
    call op_lt
    sts t310, r24
    sts t310 + 1, r25
    ; TAC: ifFalse t310 goto L17
    lds r24, t310
    lds r25, t310 + 1
    or r24, r25
    brne _skip_8
    rjmp L17
_skip_8:
    ; TAC: t311 = MEM[SOMA]
    lds r24, SOMA
    lds r25, SOMA + 1
    sts t311, r24
    sts t311 + 1, r25
    ; TAC: t312 = MEM[CONTADOR]
    lds r24, CONTADOR
    lds r25, CONTADOR + 1
    sts t312, r24
    sts t312 + 1, r25
    ; TAC: t313 = t311 + t312
    lds r24, t311
    lds r25, t311 + 1
    lds r22, t312
    lds r23, t312 + 1
    add r24, r22
    adc r25, r23
    sts t313, r24
    sts t313 + 1, r25
    ; TAC: MEM[SOMA] = t313
    lds r24, t313
    lds r25, t313 + 1
    sts SOMA, r24
    sts SOMA + 1, r25
    ; TAC: goto L16
    rjmp L16
L17:
    ; TAC: HIST[t307]
    lds r24, t307
    lds r25, t307 + 1
    call res_save

    ; # Linha 72
    ; TAC: t314 = MEM[SOMA]
    lds r24, SOMA
    lds r25, SOMA + 1
    sts t314, r24
    sts t314 + 1, r25
    ; TAC: HIST[t314]
    lds r24, t314
    lds r25, t314 + 1
    call res_save
    ; TAC: t315 = PRINT[t314]
    lds r24, t314
    lds r25, t314 + 1
    call fx_print
    call uart_newline
    sts t315, r24
    sts t315 + 1, r25

    ; # Linha 73
    ; TAC: t316 = MEM[SOMA]
    lds r24, SOMA
    lds r25, SOMA + 1
    sts t316, r24
    sts t316 + 1, r25
    ; TAC: t318 = t316 / 2
    lds r24, t316
    lds r25, t316 + 1
    ldi r22, 0
    ldi r23, 2
    call div16s
    sts t318, r24
    sts t318 + 1, r25
    ; TAC: t319 = MEM[FAT]
    lds r24, FAT
    lds r25, FAT + 1
    sts t319, r24
    sts t319 + 1, r25
    ; TAC: t321 = t319 / 2
    lds r24, t319
    lds r25, t319 + 1
    ldi r22, 0
    ldi r23, 2
    call div16s
    sts t321, r24
    sts t321 + 1, r25
    ; TAC: t322 = t318 + t321
    lds r24, t318
    lds r25, t318 + 1
    lds r22, t321
    lds r23, t321 + 1
    add r24, r22
    adc r25, r23
    sts t322, r24
    sts t322 + 1, r25
    ; TAC: t324 = t322 | 500.5
    lds r24, t322
    lds r25, t322 + 1
    ldi r22, 128
    ldi r23, 244
    call fx_div
    sts t324, r24
    sts t324 + 1, r25
    ; TAC: HIST[t324]
    lds r24, t324
    lds r25, t324 + 1
    call res_save
    ; TAC: t325 = PRINT[t324]
    lds r24, t324
    lds r25, t324 + 1
    call fx_print
    call uart_newline
    sts t325, r24
    sts t325 + 1, r25

    ; # Linha 74
    ; TAC: HIST[30]
    ldi r24, 0
    ldi r25, 30
    call res_save
    ; TAC: t329 = PRINT[30]
    ldi r24, 0
    ldi r25, 30
    call fx_print
    call uart_newline
    sts t329, r24
    sts t329 + 1, r25

    ; # Linha 75
    ; TAC: t331 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t331, r24
    sts t331 + 1, r25
    ; TAC: HIST[t331]
    lds r24, t331
    lds r25, t331 + 1
    call res_save
    ; TAC: t332 = PRINT[t331]
    lds r24, t331
    lds r25, t331 + 1
    call fx_print
    call uart_newline
    sts t332, r24
    sts t332 + 1, r25

    ; # Linha 76
    ; TAC: HIST[75]
    ldi r24, 0
    ldi r25, 75
    call res_save
    ; TAC: t336 = PRINT[75]
    ldi r24, 0
    ldi r25, 75
    call fx_print
    call uart_newline
    sts t336, r24
    sts t336 + 1, r25

    ; # Linha 77
    ; TAC: t338 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t338, r24
    sts t338 + 1, r25
    ; TAC: HIST[t338]
    lds r24, t338
    lds r25, t338 + 1
    call res_save
    ; TAC: t339 = PRINT[t338]
    lds r24, t338
    lds r25, t338 + 1
    call fx_print
    call uart_newline
    sts t339, r24
    sts t339 + 1, r25

    ; # Linha 78
    ; TAC: HIST[120]
    ldi r24, 0
    ldi r25, 120
    call res_save
    ; TAC: t343 = PRINT[120]
    ldi r24, 0
    ldi r25, 120
    call fx_print
    call uart_newline
    sts t343, r24
    sts t343 + 1, r25

    ; # Linha 79
    ; TAC: t345 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t345, r24
    sts t345 + 1, r25
    ; TAC: HIST[t345]
    lds r24, t345
    lds r25, t345 + 1
    call res_save
    ; TAC: t346 = PRINT[t345]
    lds r24, t345
    lds r25, t345 + 1
    call fx_print
    call uart_newline
    sts t346, r24
    sts t346 + 1, r25

    ; # Linha 80
    ; TAC: HIST[50]
    ldi r24, 0
    ldi r25, 50
    call res_save
    ; TAC: t350 = PRINT[50]
    ldi r24, 0
    ldi r25, 50
    call fx_print
    call uart_newline
    sts t350, r24
    sts t350 + 1, r25

    ; # Linha 81
    ; TAC: t352 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t352, r24
    sts t352 + 1, r25
    ; TAC: HIST[t352]
    lds r24, t352
    lds r25, t352 + 1
    call res_save
    ; TAC: t353 = PRINT[t352]
    lds r24, t352
    lds r25, t352 + 1
    call fx_print
    call uart_newline
    sts t353, r24
    sts t353 + 1, r25

    ; # Linha 82
    ; TAC: HIST[25.0]
    ldi r24, 0
    ldi r25, 25
    call res_save
    ; TAC: t357 = PRINT[25.0]
    ldi r24, 0
    ldi r25, 25
    call fx_print
    call uart_newline
    sts t357, r24
    sts t357 + 1, r25

    ; # Linha 83
    ; TAC: t359 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t359, r24
    sts t359 + 1, r25
    ; TAC: HIST[t359]
    lds r24, t359
    lds r25, t359 + 1
    call res_save
    ; TAC: t360 = PRINT[t359]
    lds r24, t359
    lds r25, t359 + 1
    call fx_print
    call uart_newline
    sts t360, r24
    sts t360 + 1, r25

    ; # Linha 84
    ; TAC: HIST[1]
    ldi r24, 0
    ldi r25, 1
    call res_save
    ; TAC: t364 = PRINT[1]
    ldi r24, 0
    ldi r25, 1
    call fx_print
    call uart_newline
    sts t364, r24
    sts t364 + 1, r25

    ; # Linha 85
    ; TAC: t366 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t366, r24
    sts t366 + 1, r25
    ; TAC: HIST[t366]
    lds r24, t366
    lds r25, t366 + 1
    call res_save
    ; TAC: t367 = PRINT[t366]
    lds r24, t366
    lds r25, t366 + 1
    call fx_print
    call uart_newline
    sts t367, r24
    sts t367 + 1, r25

    ; # Linha 86
    ; TAC: HIST[64]
    ldi r24, 0
    ldi r25, 64
    call res_save
    ; TAC: t371 = PRINT[64]
    ldi r24, 0
    ldi r25, 64
    call fx_print
    call uart_newline
    sts t371, r24
    sts t371 + 1, r25

    ; # Linha 87
    ; TAC: t373 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t373, r24
    sts t373 + 1, r25
    ; TAC: HIST[t373]
    lds r24, t373
    lds r25, t373 + 1
    call res_save
    ; TAC: t374 = PRINT[t373]
    lds r24, t373
    lds r25, t373 + 1
    call fx_print
    call uart_newline
    sts t374, r24
    sts t374 + 1, r25

    ; # Linha 88
    ; TAC: HIST[125]
    ldi r24, 0
    ldi r25, 125
    call res_save
    ; TAC: t378 = PRINT[125]
    ldi r24, 0
    ldi r25, 125
    call fx_print
    call uart_newline
    sts t378, r24
    sts t378 + 1, r25

    ; # Linha 89
    ; TAC: t380 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t380, r24
    sts t380 + 1, r25
    ; TAC: HIST[t380]
    lds r24, t380
    lds r25, t380 + 1
    call res_save
    ; TAC: t381 = PRINT[t380]
    lds r24, t380
    lds r25, t380 + 1
    call fx_print
    call uart_newline
    sts t381, r24
    sts t381 + 1, r25

    ; # Linha 90
    ; TAC: HIST[1]
    ldi r24, 0
    ldi r25, 1
    call res_save
    ; TAC: t385 = PRINT[1]
    ldi r24, 0
    ldi r25, 1
    call fx_print
    call uart_newline
    sts t385, r24
    sts t385 + 1, r25

    ; # Linha 91
    ; TAC: t387 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t387, r24
    sts t387 + 1, r25
    ; TAC: HIST[t387]
    lds r24, t387
    lds r25, t387 + 1
    call res_save
    ; TAC: t388 = PRINT[t387]
    lds r24, t387
    lds r25, t387 + 1
    call fx_print
    call uart_newline
    sts t388, r24
    sts t388 + 1, r25

    ; # Linha 92
    ; TAC: HIST[1]
    ldi r24, 0
    ldi r25, 1
    call res_save
    ; TAC: t392 = PRINT[1]
    ldi r24, 0
    ldi r25, 1
    call fx_print
    call uart_newline
    sts t392, r24
    sts t392 + 1, r25

    ; # Linha 93
    ; TAC: t394 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t394, r24
    sts t394 + 1, r25
    ; TAC: HIST[t394]
    lds r24, t394
    lds r25, t394 + 1
    call res_save
    ; TAC: t395 = PRINT[t394]
    lds r24, t394
    lds r25, t394 + 1
    call fx_print
    call uart_newline
    sts t395, r24
    sts t395 + 1, r25

    ; # Linha 94
    ; TAC: HIST[1]
    ldi r24, 0
    ldi r25, 1
    call res_save
    ; TAC: t399 = PRINT[1]
    ldi r24, 0
    ldi r25, 1
    call fx_print
    call uart_newline
    sts t399, r24
    sts t399 + 1, r25

    ; # Linha 95
    ; TAC: t401 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t401, r24
    sts t401 + 1, r25
    ; TAC: HIST[t401]
    lds r24, t401
    lds r25, t401 + 1
    call res_save
    ; TAC: t402 = PRINT[t401]
    lds r24, t401
    lds r25, t401 + 1
    call fx_print
    call uart_newline
    sts t402, r24
    sts t402 + 1, r25

    ; # Linha 96
    ; TAC: HIST[1]
    ldi r24, 0
    ldi r25, 1
    call res_save
    ; TAC: t406 = PRINT[1]
    ldi r24, 0
    ldi r25, 1
    call fx_print
    call uart_newline
    sts t406, r24
    sts t406 + 1, r25

    ; # Linha 97
    ; TAC: t408 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t408, r24
    sts t408 + 1, r25
    ; TAC: HIST[t408]
    lds r24, t408
    lds r25, t408 + 1
    call res_save
    ; TAC: t409 = PRINT[t408]
    lds r24, t408
    lds r25, t408 + 1
    call fx_print
    call uart_newline
    sts t409, r24
    sts t409 + 1, r25

    ; # Linha 98
    ; TAC: HIST[1]
    ldi r24, 0
    ldi r25, 1
    call res_save
    ; TAC: t413 = PRINT[1]
    ldi r24, 0
    ldi r25, 1
    call fx_print
    call uart_newline
    sts t413, r24
    sts t413 + 1, r25

    ; # Linha 99
    ; TAC: t415 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t415, r24
    sts t415 + 1, r25
    ; TAC: HIST[t415]
    lds r24, t415
    lds r25, t415 + 1
    call res_save
    ; TAC: t416 = PRINT[t415]
    lds r24, t415
    lds r25, t415 + 1
    call fx_print
    call uart_newline
    sts t416, r24
    sts t416 + 1, r25

    ; # Linha 100
    ; TAC: HIST[0]
    ldi r24, 0
    ldi r25, 0
    call res_save
    ; TAC: t420 = PRINT[0]
    ldi r24, 0
    ldi r25, 0
    call fx_print
    call uart_newline
    sts t420, r24
    sts t420 + 1, r25

    ; # Linha 101
    ; TAC: t422 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t422, r24
    sts t422 + 1, r25
    ; TAC: HIST[t422]
    lds r24, t422
    lds r25, t422 + 1
    call res_save
    ; TAC: t423 = PRINT[t422]
    lds r24, t422
    lds r25, t422 + 1
    call fx_print
    call uart_newline
    sts t423, r24
    sts t423 + 1, r25

    ; # Linha 102
    ; TAC: HIST[4]
    ldi r24, 0
    ldi r25, 4
    call res_save
    ; TAC: t427 = PRINT[4]
    ldi r24, 0
    ldi r25, 4
    call fx_print
    call uart_newline
    sts t427, r24
    sts t427 + 1, r25

    ; # Linha 103
    ; TAC: t429 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t429, r24
    sts t429 + 1, r25
    ; TAC: HIST[t429]
    lds r24, t429
    lds r25, t429 + 1
    call res_save
    ; TAC: t430 = PRINT[t429]
    lds r24, t429
    lds r25, t429 + 1
    call fx_print
    call uart_newline
    sts t430, r24
    sts t430 + 1, r25

    ; # Linha 104
    ; TAC: HIST[10]
    ldi r24, 0
    ldi r25, 10
    call res_save
    ; TAC: t434 = PRINT[10]
    ldi r24, 0
    ldi r25, 10
    call fx_print
    call uart_newline
    sts t434, r24
    sts t434 + 1, r25

    ; # Linha 105
    ; TAC: t436 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t436, r24
    sts t436 + 1, r25
    ; TAC: HIST[t436]
    lds r24, t436
    lds r25, t436 + 1
    call res_save
    ; TAC: t437 = PRINT[t436]
    lds r24, t436
    lds r25, t436 + 1
    call fx_print
    call uart_newline
    sts t437, r24
    sts t437 + 1, r25

    ; # Linha 106
    ; TAC: HIST[5]
    ldi r24, 0
    ldi r25, 5
    call res_save
    ; TAC: t441 = PRINT[5]
    ldi r24, 0
    ldi r25, 5
    call fx_print
    call uart_newline
    sts t441, r24
    sts t441 + 1, r25

    ; # Linha 107
    ; TAC: t443 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t443, r24
    sts t443 + 1, r25
    ; TAC: HIST[t443]
    lds r24, t443
    lds r25, t443 + 1
    call res_save
    ; TAC: t444 = PRINT[t443]
    lds r24, t443
    lds r25, t443 + 1
    call fx_print
    call uart_newline
    sts t444, r24
    sts t444 + 1, r25

    ; # Linha 108
    ; TAC: HIST[1.25]
    ldi r24, 64
    ldi r25, 1
    call res_save
    ; TAC: t448 = PRINT[1.25]
    ldi r24, 64
    ldi r25, 1
    call fx_print
    call uart_newline
    sts t448, r24
    sts t448 + 1, r25

    ; # Linha 109
    ; TAC: t450 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t450, r24
    sts t450 + 1, r25
    ; TAC: HIST[t450]
    lds r24, t450
    lds r25, t450 + 1
    call res_save
    ; TAC: t451 = PRINT[t450]
    lds r24, t450
    lds r25, t450 + 1
    call fx_print
    call uart_newline
    sts t451, r24
    sts t451 + 1, r25

    ; # Linha 110
    ; TAC: HIST[5.0]
    ldi r24, 0
    ldi r25, 5
    call res_save
    ; TAC: t455 = PRINT[5.0]
    ldi r24, 0
    ldi r25, 5
    call fx_print
    call uart_newline
    sts t455, r24
    sts t455 + 1, r25

    ; # Linha 111
    ; TAC: t457 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t457, r24
    sts t457 + 1, r25
    ; TAC: HIST[t457]
    lds r24, t457
    lds r25, t457 + 1
    call res_save
    ; TAC: t458 = PRINT[t457]
    lds r24, t457
    lds r25, t457 + 1
    call fx_print
    call uart_newline
    sts t458, r24
    sts t458 + 1, r25

    ; # Linha 112
    ; TAC: HIST[0.3333333333333333]
    ldi r24, 85
    ldi r25, 0
    call res_save
    ; TAC: t462 = PRINT[0.3333333333333333]
    ldi r24, 85
    ldi r25, 0
    call fx_print
    call uart_newline
    sts t462, r24
    sts t462 + 1, r25

    ; # Linha 113
    ; TAC: t464 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t464, r24
    sts t464 + 1, r25
    ; TAC: HIST[t464]
    lds r24, t464
    lds r25, t464 + 1
    call res_save
    ; TAC: t465 = PRINT[t464]
    lds r24, t464
    lds r25, t464 + 1
    call fx_print
    call uart_newline
    sts t465, r24
    sts t465 + 1, r25

    ; # Linha 114
    ; TAC: HIST[3.142857142857143]
    ldi r24, 36
    ldi r25, 3
    call res_save
    ; TAC: t469 = PRINT[3.142857142857143]
    ldi r24, 36
    ldi r25, 3
    call fx_print
    call uart_newline
    sts t469, r24
    sts t469 + 1, r25

    ; # Linha 115
    ; TAC: t471 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t471, r24
    sts t471 + 1, r25
    ; TAC: HIST[t471]
    lds r24, t471
    lds r25, t471 + 1
    call res_save
    ; TAC: t472 = PRINT[t471]
    lds r24, t471
    lds r25, t471 + 1
    call fx_print
    call uart_newline
    sts t472, r24
    sts t472 + 1, r25

    ; # Linha 116
    ; TAC: HIST[7]
    ldi r24, 0
    ldi r25, 7
    call res_save
    ; TAC: t478 = PRINT[7]
    ldi r24, 0
    ldi r25, 7
    call fx_print
    call uart_newline
    sts t478, r24
    sts t478 + 1, r25

    ; # Linha 117
    ; TAC: t480 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t480, r24
    sts t480 + 1, r25
    ; TAC: HIST[t480]
    lds r24, t480
    lds r25, t480 + 1
    call res_save
    ; TAC: t481 = PRINT[t480]
    lds r24, t480
    lds r25, t480 + 1
    call fx_print
    call uart_newline
    sts t481, r24
    sts t481 + 1, r25

    ; # Linha 118
    ; TAC: HIST[12]
    ldi r24, 0
    ldi r25, 12
    call res_save
    ; TAC: t487 = PRINT[12]
    ldi r24, 0
    ldi r25, 12
    call fx_print
    call uart_newline
    sts t487, r24
    sts t487 + 1, r25

    ; # Linha 119
    ; TAC: t489 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t489, r24
    sts t489 + 1, r25
    ; TAC: HIST[t489]
    lds r24, t489
    lds r25, t489 + 1
    call res_save
    ; TAC: t490 = PRINT[t489]
    lds r24, t489
    lds r25, t489 + 1
    call fx_print
    call uart_newline
    sts t490, r24
    sts t490 + 1, r25

    ; # Linha 120
    ; TAC: HIST[60]
    ldi r24, 0
    ldi r25, 60
    call res_save
    ; TAC: t496 = PRINT[60]
    ldi r24, 0
    ldi r25, 60
    call fx_print
    call uart_newline
    sts t496, r24
    sts t496 + 1, r25

    ; # Linha 121
    ; TAC: t498 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t498, r24
    sts t498 + 1, r25
    ; TAC: HIST[t498]
    lds r24, t498
    lds r25, t498 + 1
    call res_save
    ; TAC: t499 = PRINT[t498]
    lds r24, t498
    lds r25, t498 + 1
    call fx_print
    call uart_newline
    sts t499, r24
    sts t499 + 1, r25

    ; # Linha 122
    ; TAC: HIST[12]
    ldi r24, 0
    ldi r25, 12
    call res_save
    ; TAC: t505 = PRINT[12]
    ldi r24, 0
    ldi r25, 12
    call fx_print
    call uart_newline
    sts t505, r24
    sts t505 + 1, r25

    ; # Linha 123
    ; TAC: t507 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t507, r24
    sts t507 + 1, r25
    ; TAC: HIST[t507]
    lds r24, t507
    lds r25, t507 + 1
    call res_save
    ; TAC: t508 = PRINT[t507]
    lds r24, t507
    lds r25, t507 + 1
    call fx_print
    call uart_newline
    sts t508, r24
    sts t508 + 1, r25

    ; # Linha 124
    ; TAC: HIST[1]
    ldi r24, 0
    ldi r25, 1
    call res_save
    ; TAC: t514 = PRINT[1]
    ldi r24, 0
    ldi r25, 1
    call fx_print
    call uart_newline
    sts t514, r24
    sts t514 + 1, r25

    ; # Linha 125
    ; TAC: t516 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t516, r24
    sts t516 + 1, r25
    ; TAC: HIST[t516]
    lds r24, t516
    lds r25, t516 + 1
    call res_save
    ; TAC: t517 = PRINT[t516]
    lds r24, t516
    lds r25, t516 + 1
    call fx_print
    call uart_newline
    sts t517, r24
    sts t517 + 1, r25

    ; # Linha 126
    ; TAC: HIST[1]
    ldi r24, 0
    ldi r25, 1
    call res_save
    ; TAC: t523 = PRINT[1]
    ldi r24, 0
    ldi r25, 1
    call fx_print
    call uart_newline
    sts t523, r24
    sts t523 + 1, r25

    ; # Linha 127
    ; TAC: t525 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t525, r24
    sts t525 + 1, r25
    ; TAC: HIST[t525]
    lds r24, t525
    lds r25, t525 + 1
    call res_save
    ; TAC: t526 = PRINT[t525]
    lds r24, t525
    lds r25, t525 + 1
    call fx_print
    call uart_newline
    sts t526, r24
    sts t526 + 1, r25

    ; # Linha 128
    ; TAC: HIST[1]
    ldi r24, 0
    ldi r25, 1
    call res_save
    ; TAC: t532 = PRINT[1]
    ldi r24, 0
    ldi r25, 1
    call fx_print
    call uart_newline
    sts t532, r24
    sts t532 + 1, r25

    ; # Linha 129
    ; TAC: t534 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t534, r24
    sts t534 + 1, r25
    ; TAC: HIST[t534]
    lds r24, t534
    lds r25, t534 + 1
    call res_save
    ; TAC: t535 = PRINT[t534]
    lds r24, t534
    lds r25, t534 + 1
    call fx_print
    call uart_newline
    sts t535, r24
    sts t535 + 1, r25

    ; # Linha 130
    ; TAC: HIST[1]
    ldi r24, 0
    ldi r25, 1
    call res_save
    ; TAC: t539 = PRINT[1]
    ldi r24, 0
    ldi r25, 1
    call fx_print
    call uart_newline
    sts t539, r24
    sts t539 + 1, r25

    ; # Linha 131
    ; TAC: t541 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t541, r24
    sts t541 + 1, r25
    ; TAC: HIST[t541]
    lds r24, t541
    lds r25, t541 + 1
    call res_save
    ; TAC: t542 = PRINT[t541]
    lds r24, t541
    lds r25, t541 + 1
    call fx_print
    call uart_newline
    sts t542, r24
    sts t542 + 1, r25

    ; # Linha 132
    ; TAC: HIST[1]
    ldi r24, 0
    ldi r25, 1
    call res_save
    ; TAC: t546 = PRINT[1]
    ldi r24, 0
    ldi r25, 1
    call fx_print
    call uart_newline
    sts t546, r24
    sts t546 + 1, r25

    ; # Linha 133
    ; TAC: t548 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t548, r24
    sts t548 + 1, r25
    ; TAC: HIST[t548]
    lds r24, t548
    lds r25, t548 + 1
    call res_save
    ; TAC: t549 = PRINT[t548]
    lds r24, t548
    lds r25, t548 + 1
    call fx_print
    call uart_newline
    sts t549, r24
    sts t549 + 1, r25

    ; # Linha 134
    ; TAC: HIST[-30]
    ldi r24, 0
    ldi r25, 226
    call res_save
    ; TAC: t553 = PRINT[-30]
    ldi r24, 0
    ldi r25, 226
    call fx_print
    call uart_newline
    sts t553, r24
    sts t553 + 1, r25

    ; # Linha 135
    ; TAC: t555 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t555, r24
    sts t555 + 1, r25
    ; TAC: HIST[t555]
    lds r24, t555
    lds r25, t555 + 1
    call res_save
    ; TAC: t556 = PRINT[t555]
    lds r24, t555
    lds r25, t555 + 1
    call fx_print
    call uart_newline
    sts t556, r24
    sts t556 + 1, r25

    ; # Linha 136
    ; TAC: HIST[-100]
    ldi r24, 0
    ldi r25, 156
    call res_save
    ; TAC: t560 = PRINT[-100]
    ldi r24, 0
    ldi r25, 156
    call fx_print
    call uart_newline
    sts t560, r24
    sts t560 + 1, r25

    ; # Linha 137
    ; TAC: t562 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t562, r24
    sts t562 + 1, r25
    ; TAC: HIST[t562]
    lds r24, t562
    lds r25, t562 + 1
    call res_save
    ; TAC: t563 = PRINT[t562]
    lds r24, t562
    lds r25, t562 + 1
    call fx_print
    call uart_newline
    sts t563, r24
    sts t563 + 1, r25

    ; # Linha 138
    ; TAC: HIST[-50]
    ldi r24, 0
    ldi r25, 206
    call res_save
    ; TAC: t567 = PRINT[-50]
    ldi r24, 0
    ldi r25, 206
    call fx_print
    call uart_newline
    sts t567, r24
    sts t567 + 1, r25

    ; # Linha 139
    ; TAC: t569 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t569, r24
    sts t569 + 1, r25
    ; TAC: HIST[t569]
    lds r24, t569
    lds r25, t569 + 1
    call res_save
    ; TAC: t570 = PRINT[t569]
    lds r24, t569
    lds r25, t569 + 1
    call fx_print
    call uart_newline
    sts t570, r24
    sts t570 + 1, r25

    ; # Linha 140
    ; TAC: HIST[-25]
    ldi r24, 0
    ldi r25, 231
    call res_save
    ; TAC: t574 = PRINT[-25]
    ldi r24, 0
    ldi r25, 231
    call fx_print
    call uart_newline
    sts t574, r24
    sts t574 + 1, r25

    ; # Linha 141
    ; TAC: t576 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t576, r24
    sts t576 + 1, r25
    ; TAC: HIST[t576]
    lds r24, t576
    lds r25, t576 + 1
    call res_save
    ; TAC: t577 = PRINT[t576]
    lds r24, t576
    lds r25, t576 + 1
    call fx_print
    call uart_newline
    sts t577, r24
    sts t577 + 1, r25

    ; # Linha 142
    ; TAC: HIST[1]
    ldi r24, 0
    ldi r25, 1
    call res_save
    ; TAC: t581 = PRINT[1]
    ldi r24, 0
    ldi r25, 1
    call fx_print
    call uart_newline
    sts t581, r24
    sts t581 + 1, r25

    ; # Linha 143
    ; TAC: t583 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t583, r24
    sts t583 + 1, r25
    ; TAC: HIST[t583]
    lds r24, t583
    lds r25, t583 + 1
    call res_save
    ; TAC: t584 = PRINT[t583]
    lds r24, t583
    lds r25, t583 + 1
    call fx_print
    call uart_newline
    sts t584, r24
    sts t584 + 1, r25

    ; # Linha 144
    ; TAC: HIST[1]
    ldi r24, 0
    ldi r25, 1
    call res_save
    ; TAC: t588 = PRINT[1]
    ldi r24, 0
    ldi r25, 1
    call fx_print
    call uart_newline
    sts t588, r24
    sts t588 + 1, r25

    ; # Linha 145
    ; TAC: t590 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t590, r24
    sts t590 + 1, r25
    ; TAC: HIST[t590]
    lds r24, t590
    lds r25, t590 + 1
    call res_save
    ; TAC: t591 = PRINT[t590]
    lds r24, t590
    lds r25, t590 + 1
    call fx_print
    call uart_newline
    sts t591, r24
    sts t591 + 1, r25

    ; # Linha 146
    ; TAC: HIST[1]
    ldi r24, 0
    ldi r25, 1
    call res_save
    ; TAC: t595 = PRINT[1]
    ldi r24, 0
    ldi r25, 1
    call fx_print
    call uart_newline
    sts t595, r24
    sts t595 + 1, r25

    ; # Linha 147
    ; TAC: t597 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t597, r24
    sts t597 + 1, r25
    ; TAC: HIST[t597]
    lds r24, t597
    lds r25, t597 + 1
    call res_save
    ; TAC: t598 = PRINT[t597]
    lds r24, t597
    lds r25, t597 + 1
    call fx_print
    call uart_newline
    sts t598, r24
    sts t598 + 1, r25

    ; # Linha 148
    ; TAC: HIST[0.2]
    ldi r24, 51
    ldi r25, 0
    call res_save
    ; TAC: t602 = PRINT[0.2]
    ldi r24, 51
    ldi r25, 0
    call fx_print
    call uart_newline
    sts t602, r24
    sts t602 + 1, r25

    ; # Linha 149
    ; TAC: t604 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t604, r24
    sts t604 + 1, r25
    ; TAC: HIST[t604]
    lds r24, t604
    lds r25, t604 + 1
    call res_save
    ; TAC: t605 = PRINT[t604]
    lds r24, t604
    lds r25, t604 + 1
    call fx_print
    call uart_newline
    sts t605, r24
    sts t605 + 1, r25

    ; # Linha 150
    ; TAC: HIST[10]
    ldi r24, 0
    ldi r25, 10
    call res_save
    ; TAC: t609 = PRINT[10]
    ldi r24, 0
    ldi r25, 10
    call fx_print
    call uart_newline
    sts t609, r24
    sts t609 + 1, r25

    ; # Linha 151
    ; TAC: t611 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t611, r24
    sts t611 + 1, r25
    ; TAC: HIST[t611]
    lds r24, t611
    lds r25, t611 + 1
    call res_save
    ; TAC: t612 = PRINT[t611]
    lds r24, t611
    lds r25, t611 + 1
    call fx_print
    call uart_newline
    sts t612, r24
    sts t612 + 1, r25

    ; # Linha 152
    ; TAC: HIST[125]
    ldi r24, 0
    ldi r25, 125
    call res_save
    ; TAC: t616 = PRINT[125]
    ldi r24, 0
    ldi r25, 125
    call fx_print
    call uart_newline
    sts t616, r24
    sts t616 + 1, r25

    ; # Linha 153
    ; TAC: t618 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t618, r24
    sts t618 + 1, r25
    ; TAC: HIST[t618]
    lds r24, t618
    lds r25, t618 + 1
    call res_save
    ; TAC: t619 = PRINT[t618]
    lds r24, t618
    lds r25, t618 + 1
    call fx_print
    call uart_newline
    sts t619, r24
    sts t619 + 1, r25

    ; # Linha 154
    ; TAC: HIST[126]
    ldi r24, 0
    ldi r25, 126
    call res_save
    ; TAC: t623 = PRINT[126]
    ldi r24, 0
    ldi r25, 126
    call fx_print
    call uart_newline
    sts t623, r24
    sts t623 + 1, r25

    ; # Linha 155
    ; TAC: t625 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t625, r24
    sts t625 + 1, r25
    ; TAC: HIST[t625]
    lds r24, t625
    lds r25, t625 + 1
    call res_save
    ; TAC: t626 = PRINT[t625]
    lds r24, t625
    lds r25, t625 + 1
    call fx_print
    call uart_newline
    sts t626, r24
    sts t626 + 1, r25

    ; # Linha 156
    ; TAC: HIST[83.33333333333334]
    ldi r24, 85
    ldi r25, 83
    call res_save
    ; TAC: t630 = PRINT[83.33333333333334]
    ldi r24, 85
    ldi r25, 83
    call fx_print
    call uart_newline
    sts t630, r24
    sts t630 + 1, r25

    ; # Linha 157
    ; TAC: t632 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t632, r24
    sts t632 + 1, r25
    ; TAC: HIST[t632]
    lds r24, t632
    lds r25, t632 + 1
    call res_save
    ; TAC: t633 = PRINT[t632]
    lds r24, t632
    lds r25, t632 + 1
    call fx_print
    call uart_newline
    sts t633, r24
    sts t633 + 1, r25

    ; # Linha 158
    ; TAC: HIST[27]
    ldi r24, 0
    ldi r25, 27
    call res_save
    ; TAC: t637 = PRINT[27]
    ldi r24, 0
    ldi r25, 27
    call fx_print
    call uart_newline
    sts t637, r24
    sts t637 + 1, r25

    ; # Linha 159
    ; TAC: t639 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t639, r24
    sts t639 + 1, r25
    ; TAC: HIST[t639]
    lds r24, t639
    lds r25, t639 + 1
    call res_save
    ; TAC: t640 = PRINT[t639]
    lds r24, t639
    lds r25, t639 + 1
    call fx_print
    call uart_newline
    sts t640, r24
    sts t640 + 1, r25

    ; # Linha 160
    ; TAC: HIST[121]
    ldi r24, 0
    ldi r25, 121
    call res_save
    ; TAC: t644 = PRINT[121]
    ldi r24, 0
    ldi r25, 121
    call fx_print
    call uart_newline
    sts t644, r24
    sts t644 + 1, r25

    ; # Linha 161
    ; TAC: t646 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t646, r24
    sts t646 + 1, r25
    ; TAC: HIST[t646]
    lds r24, t646
    lds r25, t646 + 1
    call res_save
    ; TAC: t647 = PRINT[t646]
    lds r24, t646
    lds r25, t646 + 1
    call fx_print
    call uart_newline
    sts t647, r24
    sts t647 + 1, r25

    ; # Linha 162
    ; TAC: HIST[2]
    ldi r24, 0
    ldi r25, 2
    call res_save
    ; TAC: t651 = PRINT[2]
    ldi r24, 0
    ldi r25, 2
    call fx_print
    call uart_newline
    sts t651, r24
    sts t651 + 1, r25

    ; # Linha 163
    ; TAC: t653 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t653, r24
    sts t653 + 1, r25
    ; TAC: HIST[t653]
    lds r24, t653
    lds r25, t653 + 1
    call res_save
    ; TAC: t654 = PRINT[t653]
    lds r24, t653
    lds r25, t653 + 1
    call fx_print
    call uart_newline
    sts t654, r24
    sts t654 + 1, r25

    ; # Linha 164
    ; TAC: HIST[10]
    ldi r24, 0
    ldi r25, 10
    call res_save
    ; TAC: t662 = PRINT[10]
    ldi r24, 0
    ldi r25, 10
    call fx_print
    call uart_newline
    sts t662, r24
    sts t662 + 1, r25

    ; # Linha 165
    ; TAC: t664 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t664, r24
    sts t664 + 1, r25
    ; TAC: HIST[t664]
    lds r24, t664
    lds r25, t664 + 1
    call res_save
    ; TAC: t665 = PRINT[t664]
    lds r24, t664
    lds r25, t664 + 1
    call fx_print
    call uart_newline
    sts t665, r24
    sts t665 + 1, r25

    ; # Linha 166
    ; TAC: HIST[0]
    ldi r24, 0
    ldi r25, 0
    call res_save
    ; TAC: t673 = PRINT[0]
    ldi r24, 0
    ldi r25, 0
    call fx_print
    call uart_newline
    sts t673, r24
    sts t673 + 1, r25

    ; # Linha 167
    ; TAC: t675 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t675, r24
    sts t675 + 1, r25
    ; TAC: HIST[t675]
    lds r24, t675
    lds r25, t675 + 1
    call res_save
    ; TAC: t676 = PRINT[t675]
    lds r24, t675
    lds r25, t675 + 1
    call fx_print
    call uart_newline
    sts t676, r24
    sts t676 + 1, r25

    ; # Linha 168
    ; TAC: HIST[125]
    ldi r24, 0
    ldi r25, 125
    call res_save
    ; TAC: t680 = PRINT[125]
    ldi r24, 0
    ldi r25, 125
    call fx_print
    call uart_newline
    sts t680, r24
    sts t680 + 1, r25

    ; # Linha 169
    ; TAC: t682 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t682, r24
    sts t682 + 1, r25
    ; TAC: HIST[t682]
    lds r24, t682
    lds r25, t682 + 1
    call res_save
    ; TAC: t683 = PRINT[t682]
    lds r24, t682
    lds r25, t682 + 1
    call fx_print
    call uart_newline
    sts t683, r24
    sts t683 + 1, r25

    ; # Linha 170
    ; TAC: HIST[127]
    ldi r24, 0
    ldi r25, 127
    call res_save
    ; TAC: t687 = PRINT[127]
    ldi r24, 0
    ldi r25, 127
    call fx_print
    call uart_newline
    sts t687, r24
    sts t687 + 1, r25

    ; # Linha 171
    ; TAC: t689 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t689, r24
    sts t689 + 1, r25
    ; TAC: HIST[t689]
    lds r24, t689
    lds r25, t689 + 1
    call res_save
    ; TAC: t690 = PRINT[t689]
    lds r24, t689
    lds r25, t689 + 1
    call fx_print
    call uart_newline
    sts t690, r24
    sts t690 + 1, r25

    ; # Linha 172
    ; TAC: HIST[125]
    ldi r24, 0
    ldi r25, 125
    call res_save
    ; TAC: t694 = PRINT[125]
    ldi r24, 0
    ldi r25, 125
    call fx_print
    call uart_newline
    sts t694, r24
    sts t694 + 1, r25

    ; # Linha 173
    ; TAC: t696 = RES[1]
    ldi r22, 1
    ldi r23, 0
    call res_fetch
    sts t696, r24
    sts t696 + 1, r25
    ; TAC: HIST[t696]
    lds r24, t696
    lds r25, t696 + 1
    call res_save
    ; TAC: t697 = PRINT[t696]
    lds r24, t696
    lds r25, t696 + 1
    call fx_print
    call uart_newline
    sts t697, r24
    sts t697 + 1, r25
    ; --- Fim ---
end_loop:
    rjmp end_loop

; === BIBLIOTECAS AVR ===

; === LIB: lib_avr/uart.s ===
; lib_avr/uart.s
; Funes de Comunicao Serial (9600 baud @ 16MHz)

.section .text

; === UART_INIT ===
.global uart_init
uart_init:
    push r16
    ; Baud Rate 9600 (UBRR = 103)
    ldi r16, 0
    sts 0xC5, r16 ; UBRR0H
    ldi r16, 103
    sts 0xC4, r16 ; UBRR0L
    ; Habilita TX
    ldi r16, (1<<3)
    sts 0xC1, r16 ; UCSR0B
    ; Formato 8N1
    ldi r16, (1<<1) | (1<<2)
    sts 0xC2, r16 ; UCSR0C
    pop r16
    ret

; === UART_TX ===
; Envia o byte em R24
.global uart_tx
uart_tx:
    push r16
tx_wait:
    lds r16, 0xC0 ; UCSR0A
    sbrs r16, 5   ; Check UDRE0
    rjmp tx_wait
    sts 0xC6, r24 ; UDR0
    pop r16
    ret

; === UART_NEWLINE ===
.global uart_newline
uart_newline:
    push r24
    ldi r24, 13 ; CR
    call uart_tx
    ldi r24, 10 ; LF
    call uart_tx
    pop r24
    ret

; === LIB: lib_avr/math_core.s ===
; lib_avr/math_core.s
; Matemtica Unsigned (Base)

.section .text

; === MUL16U (16x16 -> 16) ===
.global mul16u
mul16u:
    push r18
    push r19
    push r20
    push r21
    movw r18, r24
    movw r20, r22
    mul r18, r20
    movw r24, r0
    mul r19, r20
    add r25, r0
    mul r18, r21
    add r25, r0
    clr r1
    pop r21
    pop r20
    pop r19
    pop r18
    ret

; === MUL16_32 (16x16 -> 32) ===
.global mul16_32
mul16_32:
    push r16
    push r17
    push r18
    push r19
    push r20
    push r21
    
    movw r18, r24       ; A
    movw r20, r22       ; B
    
    clr r22 ; Res Byte 0
    clr r23 ; Res Byte 1
    clr r24 ; Res Byte 2
    clr r25 ; Res Byte 3
    
    ; A0*B0
    mul r18, r20
    movw r22, r0
    
    ; A0*B1
    mul r18, r21
    add r23, r0
    adc r24, r1
    ldi r16, 0
    adc r25, r16
    
    ; A1*B0
    mul r19, r20
    add r23, r0
    adc r24, r1
    adc r25, r16
    
    ; A1*B1
    mul r19, r21
    add r24, r0
    adc r25, r1
    
    clr r1
    pop r21
    pop r20
    pop r19
    pop r18
    pop r17
    pop r16
    ret

; === DIV32U (32 / 32 -> 32) ===
; Dividendo: R25:R22 (Retorna Quociente aqui)
; Divisor:   R21:R18
; Modifica:  R14-R17 (Resto), R26
.global div32u
div32u:
    push r26
    
    ; Limpa Resto
    clr r14
    clr r15
    clr r16
    clr r17
    
    ldi r26, 32     ; 32 bits exatos

div32_loop:
    ; Shift Dividendo/Quociente (R25:R22)
    lsl r22
    rol r23
    rol r24
    rol r25
    
    ; Shift Resto (R17:R14)
    rol r14
    rol r15
    rol r16
    rol r17
    
    ; Compara Resto com Divisor
    cp r14, r18
    cpc r15, r19
    cpc r16, r20
    cpc r17, r21
    brcs div32_next ; Se Carry Set (Resto < Div), no subtrai
    
    ; Subtrai (Resto - Divisor)
    sub r14, r18
    sbc r15, r19
    sbc r16, r20
    sbc r17, r21
    
    ; Seta bit 0 do Quociente
    inc r22

div32_next:
    dec r26
    brne div32_loop
    
    pop r26
    ret

; === DIV16U (16 / 16 -> 16) ===
.global div16u
div16u:
    push r16
    push r17
    push r26
    push r27
    movw r26, r24       
    movw r16, r22       
    mov r14, r16
    or r14, r17
    brne d16_run
    ldi r24, 0xFF
    ldi r25, 0xFF
    rjmp d16_end
d16_run:
    clr r24
    clr r25
    clr r14
    clr r15
    ldi r18, 16
d16_loop:
    lsl r24
    rol r25
    lsl r26
    rol r27
    rol r14
    rol r15
    cp r14, r16
    cpc r15, r17
    brcs d16_next
    sub r14, r16
    sbc r15, r17
    inc r24
d16_next:
    dec r18
    brne d16_loop
d16_end:
    pop r27
    pop r26
    pop r17
    pop r16
    ret

; === LIB: lib_avr/runtime.s ===
; lib_avr/runtime.s
; Operadores Relacionais e Wrappers Inteiros
; Retorno Booleano: 1 (True) ou 0 (False) em R25:R24

.section .text

; ==========================================================
; OPERADORES RELACIONAIS (Signed 16-bit)
; Compara R25:R24 (A) com R23:R22 (B)
; ==========================================================

; === OP_EQ (==) ===
.global op_eq
op_eq:
    cp r24, r22
    cpc r25, r23
    breq is_true
    rjmp is_false

; === OP_NEQ (!=) ===
.global op_neq
op_neq:
    cp r24, r22
    cpc r25, r23
    brne is_true
    rjmp is_false

; === OP_GT (>) ===
.global op_gt
op_gt:
    cp r22, r24     ; Compare B with A (Inverse for GT logic)
    cpc r23, r25
    brlt is_true    ; Se B < A, ento A > B
    rjmp is_false

; === OP_LT (<) ===
.global op_lt
op_lt:
    cp r24, r22     ; Compare A with B
    cpc r25, r23
    brlt is_true    ; Signed Less Than
    rjmp is_false

; === OP_GE (>=) ===
.global op_ge
op_ge:
    cp r24, r22
    cpc r25, r23
    brge is_true    ; Signed Greater or Equal
    rjmp is_false

; === OP_LE (<=) ===
.global op_le
op_le:
    cp r22, r24
    cpc r23, r25
    brge is_true    ; Se B >= A, ento A <= B
    rjmp is_false

; --- Helpers de Retorno ---
is_true:
    ldi r24, 1
    ldi r25, 0
    ret

is_false:
    ldi r24, 0
    ldi r25, 0
    ret


; ==========================================================
; WRAPPERS ARITMTICOS INTEIROS
; ==========================================================

; === OP_MOD (%) ===
; Resto da diviso inteira de R25:R24 por R23:R22
.global op_mod
op_mod:
    call div16u     ; Faz a diviso padro
    ; div16u (verso math_core.s) retorna Quociente em R25:R24
    ; e Resto em R15:R14.
    ; Precisamos mover o Resto para R25:R24 (Retorno padro)
    
    movw r24, r14   ; Move R15:R14 -> R25:R24
    ret

; === OP_POW_INT (Inteiro ^ Inteiro) ===
; Base: R25:R24, Exp: R22 (8 bits  suficiente para o projeto)
.global op_pow_int
op_pow_int:
    push r20
    push r21
    push r22
    
    mov r20, r22 ; Copia Expoente
    
    ; Exp == 0 -> 1
    cpi r20, 0
    brne chk_p1
    ldi r24, 1
    ldi r25, 0
    rjmp pi_end
    
chk_p1:
    ; Exp == 1 -> Base (j est em R25:R24)
    cpi r20, 1
    breq pi_end
    
    ; Setup loop
    dec r20         ; J temos base^1
    movw r22, r24   ; R23:R22 guarda a BASE fixa
    ; R25:R24 guarda o ACUMULADO

pi_loop:
    ; Precisamos chamar mul16u(Acumulado, Base)
    ; mul16u espera A em R25:R24 e B em R23:R22.
    ; J est configurado corretamente (Acumulado em 25:24, Base em 23:22)
    ; PORM: mul16u destri R22/R23 (B) nos pops? 
    ; Verificando math_core.s: mul16u usa push/pop de r20/r21...
    ; Mas mul16u no garante preservar B (R23:R22) se us-lo como temp?
    ; O mul16u atual preserva R18-R21. R22 e R23 so registradores de argumento,
    ; normalmente considerados "scratch" (sujos).
    ; Vamos salvar a Base em R21:R20 (seguros) e restaurar a cada loop.

    push r22 ; Salva Base Low
    push r23 ; Salva Base High
    
    call mul16u
    
    pop r23  ; Recupera para o prximo loop
    pop r22
    
    dec r20
    brne pi_loop

pi_end:
    pop r22
    pop r21
    pop r20
    ret

; === LIB: lib_avr/storage.s ===
; lib_avr/storage.s
; Gerenciamento de Memria (RES e MEM)
; Roda no ATmega328P (2KB SRAM)

.section .bss
    ; --- Buffer para o histrico de RES ---
    ; Alocamos espao para 100 resultados (200 bytes)
    ; Se o programa tiver mais de 100 linhas, ele sobrescreve ou trava (simples por enquanto)
    .lcomm res_buffer, 200 
    .lcomm res_count, 1    ; Contador de quantos resultados j salvamos (0 a 255)

    ; --- Memria de Variveis (MEM) ---
    ; Vamos supor 26 variveis possveis (A-Z) ou apenas uma "MEM" genrica.
    ; O documento diz: "(V MEM): Armazena em uma memria".
    ; E "(MEM): Retorna o valor". Parece ser uma varivel nica ou poucas.
    ; Vamos alocar espao para 1 varivel genrica chamada MEM_VAL
    .lcomm mem_val, 2      ; 2 bytes para a varivel MEM
    .lcomm mem_init, 1     ; Flag: 0 = no inicializada, 1 = inicializada

.section .text

; ==========================================================
; FUNES DE RES (Histrico)
; ==========================================================

; === RES_INIT ===
; Zera o contador de resultados no incio do programa
.global res_init
res_init:
    push r16
    ldi r16, 0
    sts res_count, r16
    pop r16
    ret

; === RES_SAVE ===
; Salva o valor atual (R25:R24) no topo do histrico
; Deve ser chamado ao final de CADA expresso calculada
.global res_save
res_save:
    push r16
    push r30
    push r31
    
    ; 1. Pega o ndice atual (res_count)
    lds r16, res_count
    
    ; 2. Calcula endereo: res_buffer + (index * 2)
    ldi r30, lo8(res_buffer)
    ldi r31, hi8(res_buffer)
    
    ; Adiciona (r16 * 2) ao Z
    add r30, r16
    adc r31, r1  ; r1  zero
    add r30, r16 ; Adiciona de novo para multiplicar por 2
    adc r31, r1
    
    ; 3. Armazena R25:R24 na RAM
    st Z+, r24   ; Low byte
    st Z, r25    ; High byte
    
    ; 4. Incrementa contador
    lds r16, res_count
    inc r16
    sts res_count, r16
    
    pop r31
    pop r30
    pop r16
    ret

; === RES_FETCH ===
; Busca o resultado N linhas atrs
; Entrada: R22 (N - inteiro 8 bits)
; Sada:   R25:R24 (Valor recuperado)
.global res_fetch
res_fetch:
    push r16
    push r30
    push r31
    
    ; 1. Pega o total de resultados salvos
    lds r16, res_count
    
    ; 2. Calcula o ndice alvo: (Count - N)
    ; Se N=1, queremos o anterior imediato (Count - 1)
    ; O comando diz "N linhas anteriores".
    ; Se N=1,  o ltimo salvo.
    sub r16, r22
    
    ; Opcional: Verificar se r16 < 0 (Underflow/Erro)
    ; Por simplicidade, assumimos que o usurio no pede RES maior que o existente.
    ; Como o ndice  0-based no save, mas o count  incrementado, 
    ; se salvamos 1 item, count  1. Se pedimos 1 RES, queremos indice 0.
    ; 1 - 1 = 0. Correto.
    
    ; 3. Calcula endereo: res_buffer + (target * 2)
    ldi r30, lo8(res_buffer)
    ldi r31, hi8(res_buffer)
    
    add r30, r16
    adc r31, r1
    add r30, r16
    adc r31, r1
    
    ; 4. L da RAM
    ld r24, Z+
    ld r25, Z
    
    pop r31
    pop r30
    pop r16
    ret

; ==========================================================
; FUNES DE MEM (Varivel)
; ==========================================================

; === MEM_STORE ===
; Salva R25:R24 na varivel MEM e marca como inicializada
.global mem_store
mem_store:
    push r16
    
    ; Salva valor
    sts mem_val, r24
    sts mem_val+1, r25
    
    ; Marca flag de inicializao
    ldi r16, 1
    sts mem_init, r16
    
    pop r16
    ret

; === MEM_LOAD ===
; Carrega o valor de MEM para R25:R24
; Se no inicializada, o comportamento  indefinido no Assembly 
; (o analisador semntico j deve ter barrado isso), 
; mas retornaremos 0 por segurana.
.global mem_load
mem_load:
    push r16
    
    ; Verifica se inicializada (Opcional, pois o Semntico garante)
    lds r16, mem_init
    cpi r16, 1
    breq do_load
    
    ; Se no, retorna 0
    ldi r24, 0
    ldi r25, 0
    rjmp end_mem_load

do_load:
    lds r24, mem_val
    lds r25, mem_val+1

end_mem_load:
    pop r16
    ret

; === LIB: lib_avr/math_signed.s ===
; lib_avr/math_signed.s
; Wrappers para operaes com sinal e impresso

.section .text

; === DIV16S (Diviso com Sinal) ===
; R25:R24 / R23:R22 -> R25:R24
.global div16s
div16s:
    push r16            ; Guarda sinal do resultado
    push r14            ; Salva contexto que div16u vai sujar
    push r15
    clr r16
    
    ; Checa sinal do Dividendo
    sbrs r25, 7
    rjmp chk_div
    inc r16             ; Sinal++
    call negate_r24     ; Torna positivo

chk_div:
    ; Checa sinal do Divisor
    sbrs r23, 7
    rjmp do_div
    inc r16             ; Sinal++
    call negate_r22     ; Torna positivo

do_div:
    call div16u         ; Faz a diviso unsigned
    
    ; Se r16 for mpar (1), o resultado  negativo
    sbrs r16, 0
    rjmp end_divs
    call negate_r24     ; Inverte resultado

end_divs:
    pop r15
    pop r14
    pop r16
    ret

negate_r24:
    com r25
    neg r24
    sbci r25, 0xFF
    ret

negate_r22:
    com r23
    neg r22
    sbci r23, 0xFF
    ret

; === PRINT_INT16 (Impresso Decimal) ===
.global print_int16
print_int16:
    push r24
    push r25
    push r16 ; Preserva registradores que usaremos
    
    ; Verifica se  0 (caso especial simples)
    mov r16, r24
    or r16, r25
    brne check_sign
    ldi r24, '0'
    call uart_tx
    rjmp p_end

check_sign:
    sbrs r25, 7         ; Verifica sinal
    rjmp p_start_rec
    
    push r24
    ldi r24, '-'
    call uart_tx        ; Imprime '-'
    pop r24
    call negate_r24     ; Torna positivo

p_start_rec:
    call p_rec

p_end:
    pop r16
    pop r25
    pop r24
    ret

; Funo recursiva interna
p_rec:
    ; Se o nmero for 0, retorna (fim da recurso)
    mov r16, r24
    or r16, r25
    breq p_ret

    push r24
    push r25
    
    ldi r22, 10
    ldi r23, 0
    call div16u     ; R25:R24 = Quociente, R15:R14 = Resto
    
    ; O resto (R14)  o dgito que queremos imprimir DEPOIS da recurso
    push r14        ; Salva o dgito na pilha

    call p_rec      ; Recurso com o Quociente (que j est em R25:R24)
    
    pop r24         ; Recupera o dgito (estava em R14)
    subi r24, -'0'  ; Converte para ASCII (add 48)
    call uart_tx
    
    pop r25
    pop r24
p_ret:
    ret


; === LIB: lib_avr/math_fixed.s ===
; lib_avr/math_fixed.s
; Aritmtica Q8.8 (Ponto Fixo) - CORRIGIDO

.section .text

; === FX_MUL (Multiplicao Q8.8) ===
.global fx_mul
fx_mul:
    push r20
    push r21
    push r16
    
    clr r16
    sbrs r25, 7
    rjmp chk_b_mul
    inc r16
    call fx_neg_a_local
chk_b_mul:
    sbrs r23, 7
    rjmp do_mul
    inc r16
    call fx_neg_b_local

do_mul:
    call mul16_32       ; R25..R22
    mov r25, r24
    mov r24, r23
    
    sbrs r16, 0
    rjmp mul_end
    call fx_neg_a_local

mul_end:
    pop r16
    pop r21
    pop r20
    ret

; === FX_DIV (Diviso Q8.8) ===
.global fx_div
fx_div:
    ; Salva contexto completo
    push r14
    push r15
    push r16
    push r17
    push r18
    push r19
    push r20
    push r21
    push r28 ; Usaremos R28 para guardar o sinal

    ; 1. Calcula Sinal
    clr r28
    sbrs r25, 7
    rjmp div_check_b
    inc r28
    call fx_neg_a_local
div_check_b:
    sbrs r23, 7
    rjmp div_setup
    inc r28
    call fx_neg_b_local

div_setup:
    ; 2. Configura Divisor (B) em R21:R18
    mov r18, r22  ; B Low
    mov r19, r23  ; B High
    clr r20       ; Zero
    clr r21       ; Zero

    ; 3. Configura Dividendo (A) << 8 em R25:R22
    ; Entrada A: R25:R24
    mov r22, r25  ; Temp High
    
    mov r23, r24  ; A Low -> Byte 1
    mov r24, r22  ; A High -> Byte 2
    clr r22       ; Byte 0 = 0
    clr r25       ; Byte 3 = 0
    
    ; 4. Executa Diviso 32 bits
    call div32u   ; Quociente em R25:R22
    
    ; 5. Resultado Q8.8 est nos bytes do meio (R23:R22 do resultado)
    ; Se entrada foi escalada em 8 bits, o resultado da div inteira
    ; j est na escala correta se interpretarmos R22 como frao e R23 como inteiro.
    ; Precisamos mover R23:R22 -> R25:R24
    
    movw r24, r22 ; Copia R23:R22 para R25:R24
    
    ; 6. Aplica Sinal
    sbrs r28, 0
    rjmp div_restore
    call fx_neg_a_local

div_restore:
    pop r28
    pop r21
    pop r20
    pop r19
    pop r18
    pop r17
    pop r16
    pop r15
    pop r14
    ret

; === FX_POW (Potncia) ===
.global fx_pow
fx_pow:
    push r20
    push r21
    push r22 ; Exp
    push r26
    push r27
    
    mov r26, r22
    
    cpi r26, 0
    brne pow_chk_1
    ldi r24, 0x00
    ldi r25, 0x01 ; 1.0
    rjmp pow_ret

pow_chk_1:
    cpi r26, 1
    breq pow_ret
    
    movw r20, r24 ; Base fixa
    dec r26

pow_loop:
    movw r22, r20
    call fx_mul
    dec r26
    brne pow_loop

pow_ret:
    pop r27
    pop r26
    pop r22
    pop r21
    pop r20
    ret

; Auxiliares
fx_neg_a_local:
    com r25
    neg r24
    sbci r25, 0xFF
    ret

fx_neg_b_local:
    com r23
    neg r22
    sbci r23, 0xFF
    ret

; === FX_PRINT (Formatado) ===
.global fx_print
fx_print:
    push r24
    push r25
    push r22
    push r23
    push r16
    
    sbrs r25, 7
    rjmp pr_int
    push r24
    ldi r24, '-'
    call uart_tx
    pop r24
    call fx_neg_a_local

pr_int:
    push r24
    mov r24, r25
    ldi r25, 0
    call print_int16
    pop r24
    
    push r24
    ldi r24, '.'
    call uart_tx
    pop r24
    
    ; Frao
    mov r22, r24
    ldi r23, 0
    mov r24, r22
    ldi r25, 0
    
    ldi r22, lo8(1000)
    ldi r23, hi8(1000)
    call mul16_32
    
    mov r25, r24
    mov r24, r23
    
    ; Padding
    ldi r16, 0
    cpi r24, 100
    cpc r25, r16
    brsh check_10
    push r24
    ldi r24, '0'
    call uart_tx
    pop r24

check_10:
    ldi r16, 0
    cpi r24, 10
    cpc r25, r16
    brsh do_print_frac
    push r24
    ldi r24, '0'
    call uart_tx
    pop r24

do_print_frac:
    call print_int16
    
    pop r16
    pop r23
    pop r22
    pop r25
    pop r24
    ret
